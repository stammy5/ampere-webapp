"use strict";exports.id=373,exports.ids=[373],exports.modules={8787:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(2881).Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},361:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(2881).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9423:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(2881).Z)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]])},5932:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(2881).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},7636:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(2881).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2887:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(2881).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},1215:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(2881).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},9508:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(2881).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},6662:(e,t,a)=>{a.d(t,{Z:()=>h});var r=a(326),s=a(7577),n=a(1223),l=a(7192),i=a(8995),o=a(9682),d=a(5729),c=a(8787),m=a(4019),u=a(9423),g=a(1215);let p=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"blacklisted",label:"Blacklisted"}],x=["Ang Mo Kio","Bedok","Bishan","Boon Lay","Bukit Batok","Bukit Merah","Bukit Panjang","Bukit Timah","Central Water Catchment","Changi","Choa Chu Kang","Clementi","Downtown Core","Geylang","Hougang","Jurong East","Jurong West","Kallang","Marine Parade","Museum","Newton","North-Eastern Islands","Novena","Orchard","Outram","Pasir Ris","Punggol","Queenstown","River Valley","Rochor","Sembawang","Sengkang","Serangoon","Singapore River","Southern Islands","Tampines","Tanglin","Toa Payoh","Tuas","Western Islands","Western Water Catchment","Woodlands","Yishun"];function h({client:e,isOpen:t,onClose:a,onSave:h,mode:b,isLoading:y=!1}){let{clients:f}=(0,o.a)(),{getActiveClientTypes:v}=(0,d.r)(),j=v(),[N,C]=(0,s.useState)({name:e?.name||"",type:e?.type||"corporate",contactPerson:e?.contactPerson||"",email:e?.email||"",phone:e?.phone||"",street:e?.address?.street||"",building:e?.address?.building||"",unit:e?.address?.unit||"",postalCode:e?.address?.postalCode||"",district:e?.address?.district||"",registrationNumber:e?.registrationNumber||"",gstNumber:e?.gstNumber||"",creditLimit:e?.creditLimit||0,paymentTerms:e?.paymentTerms||30,status:e?.status||"active",notes:e?.notes||""}),[k,w]=(0,s.useState)({}),P="add"===b?(0,i.gE)(f):null,B=(e,t)=>{C(a=>{let r={...a,[e]:t};if("postalCode"===e&&"string"==typeof t){let e=(0,l.FU)(t);e&&(r.district=e)}return r}),k[e]&&w(t=>({...t,[e]:""}))},M=()=>{let e={};return N.name.trim()||(e.name="Company name is required"),N.contactPerson.trim()||(e.contactPerson="Contact person is required"),N.email.trim()||(e.email="Email is required"),N.phone.trim()||(e.phone="Phone is required"),N.street.trim()||(e.street="Street address is required"),N.postalCode.trim()||(e.postalCode="Postal code is required"),N.district.trim()||(e.district="District is required"),N.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N.email)&&(e.email="Please enter a valid email address"),N.phone&&!/^(\+65\s?)?\d{4}\s?\d{4}$/.test(N.phone.replace(/\s/g,""))&&(e.phone="Please enter a valid Singapore phone number"),N.postalCode&&!(0,l.Uw)(N.postalCode)&&(e.postalCode="Please enter a valid 6-digit postal code"),w(e),0===Object.keys(e).length},S=async e=>{if(e.preventDefault(),!M())return;let t={name:N.name.trim(),type:N.type,contactPerson:N.contactPerson.trim(),email:N.email.trim(),phone:N.phone.trim(),address:{street:N.street.trim(),building:N.building.trim()||void 0,unit:N.unit.trim()||void 0,postalCode:N.postalCode.trim(),district:N.district},registrationNumber:N.registrationNumber.trim()||void 0,gstNumber:N.gstNumber.trim()||void 0,creditLimit:N.creditLimit>0?N.creditLimit:void 0,paymentTerms:N.paymentTerms,status:N.status,notes:N.notes.trim()||void 0};await h(t)};return t?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:r.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:a})}),(0,r.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[r.jsx("div",{className:"bg-white px-6 py-4 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-ampere-100 rounded-lg flex items-center justify-center",children:r.jsx(c.Z,{className:"h-5 w-5 text-ampere-600"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"add"===b?"Add New Client":"Edit Client"}),r.jsx("p",{className:"text-sm text-gray-600",children:"add"===b?"Create a new client record":"Update client information"})]})]}),r.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 p-2 rounded-lg hover:bg-gray-100",children:r.jsx(m.Z,{className:"h-5 w-5"})})]})}),(0,r.jsxs)("form",{onSubmit:S,className:"p-6",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Client Identification"}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(u.Z,{className:"h-5 w-5 text-ampere-600"}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Client Code"}),"edit"===b&&e?.clientCode?r.jsx("p",{className:"text-lg font-mono font-semibold text-ampere-600 mt-1",children:e.clientCode}):(0,r.jsxs)("p",{className:"text-lg font-mono font-semibold text-ampere-600 mt-1",children:[P," ",r.jsx("span",{className:"text-sm text-gray-500 font-normal",children:"(Auto-generated)"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"edit"===b?"Client code cannot be modified after creation":"A unique client code will be automatically assigned"})]})]})})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),r.jsx("input",{type:"text",value:N.name,onChange:e=>B("name",e.target.value),className:(0,n.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",k.name?"border-red-300":"border-gray-300"),placeholder:"Enter company name"}),k.name&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.name})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Type *"}),r.jsx("select",{value:N.type,onChange:e=>B("type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",children:j.map(e=>r.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person *"}),r.jsx("input",{type:"text",value:N.contactPerson,onChange:e=>B("contactPerson",e.target.value),className:(0,n.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",k.contactPerson?"border-red-300":"border-gray-300"),placeholder:"Enter contact person name"}),k.contactPerson&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.contactPerson})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),r.jsx("select",{value:N.status,onChange:e=>B("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",children:p.map(e=>r.jsx("option",{value:e.value,children:e.label},e.value))})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Contact Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),r.jsx("input",{type:"email",value:N.email,onChange:e=>B("email",e.target.value),className:(0,n.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",k.email?"border-red-300":"border-gray-300"),placeholder:"Enter email address"}),k.email&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.email})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),r.jsx("input",{type:"tel",value:N.phone,onChange:e=>B("phone",e.target.value),className:(0,n.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",k.phone?"border-red-300":"border-gray-300"),placeholder:"+65 1234 5678"}),k.phone&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.phone})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Address Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),r.jsx("input",{type:"text",value:N.street,onChange:e=>B("street",e.target.value),className:(0,n.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",k.street?"border-red-300":"border-gray-300"),placeholder:"Enter street address"}),k.street&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.street})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Building Name"}),r.jsx("input",{type:"text",value:N.building,onChange:e=>B("building",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",placeholder:"Enter building name"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Number"}),r.jsx("input",{type:"text",value:N.unit,onChange:e=>B("unit",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",placeholder:"#12-34"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code *"}),r.jsx("input",{type:"text",value:N.postalCode,onChange:e=>B("postalCode",e.target.value),className:(0,n.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",k.postalCode?"border-red-300":"border-gray-300"),placeholder:"123456",maxLength:6}),N.postalCode&&(0,l.FU)(N.postalCode)&&(0,r.jsxs)("p",{className:"mt-1 text-xs text-green-600",children:["\uD83D\uDCCD Auto-selected: ",(0,l.FU)(N.postalCode)]}),k.postalCode&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.postalCode})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"District *"}),(0,r.jsxs)("select",{value:N.district,onChange:e=>B("district",e.target.value),className:(0,n.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",k.district?"border-red-300":"border-gray-300"),children:[r.jsx("option",{value:"",children:"Select District"}),x.map(e=>r.jsx("option",{value:e,children:e},e))]}),k.district&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.district})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Business Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),r.jsx("input",{type:"text",value:N.registrationNumber,onChange:e=>B("registrationNumber",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",placeholder:"Company registration number"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST Number"}),r.jsx("input",{type:"text",value:N.gstNumber,onChange:e=>B("gstNumber",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",placeholder:"GST registration number"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Credit Limit (SGD)"}),r.jsx("input",{type:"number",value:N.creditLimit,onChange:e=>B("creditLimit",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",placeholder:"0",min:"0",step:"1000"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Terms (Days) *"}),r.jsx("input",{type:"number",value:N.paymentTerms,onChange:e=>B("paymentTerms",parseInt(e.target.value)||30),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",placeholder:"30",min:"1",max:"365"})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{value:N.notes,onChange:e=>B("notes",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",placeholder:"Additional notes about this client..."})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-6 mt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:a,disabled:y,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:y,className:"btn-primary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:y?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"add"===b?"Adding...":"Saving..."})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(g.Z,{className:"h-4 w-4"}),r.jsx("span",{children:"add"===b?"Add Client":"Save Changes"})]})})]})]})]})]})}):null}},7192:(e,t,a)=>{a.d(t,{FU:()=>s,Uw:()=>n});let r={"01":"Downtown Core","02":"Downtown Core","03":"Downtown Core","04":"Downtown Core","05":"Downtown Core","06":"Downtown Core","07":"Downtown Core","08":"Downtown Core","09":"Orchard",10:"Orchard",11:"Newton",12:"Novena",13:"Newton",14:"Orchard",15:"Orchard",16:"Bukit Timah",17:"Bukit Timah",18:"Novena",19:"Novena",20:"Bishan",21:"Bishan",22:"Ang Mo Kio",23:"Bishan",24:"Ang Mo Kio",25:"Ang Mo Kio",26:"Ang Mo Kio",27:"Ang Mo Kio",28:"Sengkang",29:"Serangoon",30:"Serangoon",31:"Serangoon",32:"Hougang",33:"Hougang",34:"Hougang",35:"Tampines",36:"Tampines",37:"Tampines",38:"Pasir Ris",39:"Tampines",40:"Geylang",41:"Geylang",42:"Geylang",43:"Marine Parade",44:"Marine Parade",45:"Marine Parade",46:"Bedok",47:"Bedok",48:"Bedok",49:"Bedok",50:"Bedok",51:"Bedok",52:"Bedok",53:"Pasir Ris",54:"Pasir Ris",55:"Tampines",56:"Tampines",57:"Tampines",58:"Pasir Ris",59:"Changi",60:"Jurong East",61:"Jurong West",62:"Jurong West",63:"Jurong West",64:"Jurong West",65:"Jurong West",66:"Jurong West",67:"Choa Chu Kang",68:"Choa Chu Kang",69:"Choa Chu Kang",70:"Bukit Panjang",71:"Bukit Panjang",72:"Bukit Batok",73:"Bukit Batok",74:"Bukit Batok",75:"Clementi",76:"Clementi",77:"Queenstown",78:"Queenstown",79:"Tuas",80:"Southern Islands",81:"Southern Islands",82:"Southern Islands"};function s(e){return!e||e.length<2?"":r[e.replace(/\D/g,"").substring(0,2)]||""}function n(e){let t=e.replace(/\D/g,"");return 6===t.length&&/^\d{6}$/.test(t)}}};