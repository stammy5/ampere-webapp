exports.id=370,exports.ids=[370],exports.modules={9767:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},4855:(e,t,a)=>{Promise.resolve().then(a.bind(a,827)),Promise.resolve().then(a.bind(a,4471)),Promise.resolve().then(a.bind(a,9682)),Promise.resolve().then(a.bind(a,9209)),Promise.resolve().then(a.bind(a,1293)),Promise.resolve().then(a.bind(a,849)),Promise.resolve().then(a.bind(a,5956)),Promise.resolve().then(a.bind(a,9666)),Promise.resolve().then(a.bind(a,5729)),Promise.resolve().then(a.bind(a,4396)),Promise.resolve().then(a.bind(a,2588)),Promise.resolve().then(a.bind(a,9982))},827:(e,t,a)=>{"use strict";a.d(t,{AuditLogProvider:()=>d,U:()=>c,v:()=>s});var r=a(326),n=a(7577);let i=(0,n.createContext)(void 0),s=()=>{let e=(0,n.useContext)(i);if(void 0===e)throw Error("useAuditLog must be used within an AuditLogProvider");return e},o=(e,t,a=[])=>{let r=[];return e&&t&&new Set([...Object.keys(e),...Object.keys(t)]).forEach(n=>{if(a.includes(n))return;let i=e[n],s=t[n];"object"==typeof i&&"object"==typeof s&&null!==i&&null!==s?JSON.stringify(i)!==JSON.stringify(s)&&r.push({field:n,oldValue:JSON.stringify(i),newValue:JSON.stringify(s),fieldLabel:n.charAt(0).toUpperCase()+n.slice(1)}):i!==s&&r.push({field:n,oldValue:i,newValue:s,fieldLabel:n.charAt(0).toUpperCase()+n.slice(1)})}),r},d=({children:e})=>{let[t,a]=(0,n.useState)([]);(0,n.useEffect)(()=>{try{let e=localStorage.getItem("ampere_audit_logs");if(e){let t=JSON.parse(e).map(e=>({...e,timestamp:new Date(e.timestamp)}));a(t)}}catch(e){console.error("Error loading audit logs from localStorage:",e)}},[]),(0,n.useEffect)(()=>{try{localStorage.setItem("ampere_audit_logs",JSON.stringify(t))}catch(e){console.error("Error saving audit logs to localStorage:",e)}},[t]);let s=()=>`LOG-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,o=e=>e?t.filter(t=>{if(e.userId&&t.userId!==e.userId||e.userRole&&t.userRole!==e.userRole||e.action&&t.action!==e.action||e.entityType&&t.entityType!==e.entityType||e.dateFrom&&t.timestamp<e.dateFrom||e.dateTo&&t.timestamp>e.dateTo)return!1;if(e.searchTerm){let a=e.searchTerm.toLowerCase();if(![t.userName,t.entityName,t.details,t.action,t.entityType].join(" ").toLowerCase().includes(a))return!1}return!0}):t;return r.jsx(i.Provider,{value:{auditLogs:t,getAuditLogs:o,addAuditLog:e=>{let t={...e,id:s(),timestamp:new Date,ipAddress:e.ipAddress||"localhost",userAgent:e.userAgent||navigator.userAgent};a(e=>[t,...e])},getAuditLogSummary:()=>{let e=new Date,a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getTime()-6048e5),n=new Date(e.getTime()-2592e6),i=t.filter(e=>e.timestamp>=a).length,s=t.filter(e=>e.timestamp>=r).length,o=t.filter(e=>e.timestamp>=n).length,d=t.reduce((e,t)=>(e[t.action]=(e[t.action]||0)+1,e),{}),c=t.reduce((e,t)=>(e[t.entityType]=(e[t.entityType]||0)+1,e),{}),l=t.reduce((e,t)=>{let a=e.find(e=>e.userId===t.userId);return a?a.count++:e.push({userId:t.userId,userName:t.userName,count:1}),e},[]).sort((e,t)=>t.count-e.count).slice(0,10),u=t.slice(0,20);return{totalLogs:t.length,todayLogs:i,weekLogs:s,monthLogs:o,byAction:d,byEntityType:c,byUser:l,recentActivity:u}},exportAuditLogs:e=>JSON.stringify(o(e),null,2),clearAuditLogs:()=>{a([]),localStorage.removeItem("ampere_audit_logs")},getAuditLogById:e=>t.find(t=>t.id===e),getLogsByEntity:(e,a)=>t.filter(t=>t.entityType===e&&t.entityId===a),getLogsByUser:e=>t.filter(t=>t.userId===e)},children:e})},c=(e,t,a,r,n)=>{let i=n?.oldData&&n?.newData?o(n.oldData,n.newData,n.excludeFields||["id","createdAt","updatedAt"]):void 0;return{userId:r.id,userRole:r.role,userName:r.name,action:e,entityType:t,entityId:a,entityName:n?.entityName,changes:i,details:n?.details}}},4471:(e,t,a)=>{"use strict";a.d(t,{AuthProvider:()=>u,P:()=>m,a:()=>l});var r=a(326),n=a(7577),i=a(1902),s=a(827),o=a(5342);class d{static canAccessFinance(e){return!!e&&!!e.isActive&&("super_admin"===e.role||"admin"===e.role||"finance"===e.role||(e.permissions?.finance?.canViewFinance??!1))}static canEditInvoices(e){return!!e&&!!e.isActive&&("super_admin"===e.role||(e.permissions?.finance?.canEditInvoices??!1))}static canDeleteInvoices(e){return!!e&&!!e.isActive&&("super_admin"===e.role||(e.permissions?.finance?.canDeleteInvoices??!1))}static canManagePayments(e){return!!e&&!!e.isActive&&("super_admin"===e.role||(e.permissions?.finance?.canManagePayments??!1))}static canViewProject(e,t){return!!e&&!!e.isActive&&!!("super_admin"===e.role||"admin"===e.role||e.permissions?.projects?.canViewAllProjects||e.assignedProjects?.includes(t.id)||t.projectManager===e.id||t.team?.includes(e.id))}static canEditProject(e,t){return!!e&&!!e.isActive&&("super_admin"===e.role||"admin"===e.role||!!e.permissions?.projects?.canEditAssignedProjects&&(e.assignedProjects?.includes(t.id)||t.projectManager===e.id||t.team?.includes(e.id)))}static canCreateProjects(e){return!!e&&!!e.isActive&&("super_admin"===e.role||"admin"===e.role||(e.permissions?.projects?.canCreateProjects??!1))}static canDeleteProjects(e){return!!e&&!!e.isActive&&("super_admin"===e.role||(e.permissions?.projects?.canDeleteProjects??!1))}static canManageProjectTeam(e,t){return!!e&&!!e.isActive&&("super_admin"===e.role||"admin"===e.role||!!t&&t.projectManager===e.id||(e.permissions?.projects?.canManageTeam??!1))}static canViewClients(e){return!!e&&!!e.isActive&&("projects"!==e.role||(e.permissions?.clients?.canViewClients??!0))}static canEditClients(e){return!!e&&!!e.isActive&&(!!["super_admin","admin","sales"].includes(e.role)||(e.permissions?.clients?.canEditClients??!1))}static canCreateClients(e){return!!e&&!!e.isActive&&(!!["super_admin","admin","sales"].includes(e.role)||(e.permissions?.clients?.canCreateClients??!1))}static canDeleteClients(e){return!!e&&!!e.isActive&&("super_admin"===e.role||(e.permissions?.clients?.canDeleteClients??!1))}static canManageUsers(e){return!!e&&!!e.isActive&&(!!["super_admin","admin"].includes(e.role)||(e.permissions?.system?.canManageUsers??!1))}static canViewAuditLogs(e){return!!e&&!!e.isActive&&("super_admin"===e.role||(e.permissions?.system?.canViewAuditLogs??!1))}static canManageSettings(e){return!!e&&!!e.isActive&&(!!["super_admin","admin"].includes(e.role)||(e.permissions?.system?.canManageSettings??!1))}static canViewReports(e){return!!e&&!!e.isActive&&(!!["super_admin","admin","finance"].includes(e.role)||(e.permissions?.system?.canViewReports??!1))}static getAccessibleProjects(e,t){return e&&e.isActive?"super_admin"===e.role||"admin"===e.role||e.permissions?.projects?.canViewAllProjects?t:t.filter(t=>this.canViewProject(e,t)):[]}static initializeUserPermissions(e){return{...o.lR[e]}}static hasAnyRole(e,t){return!!e&&!!e.isActive&&t.includes(e.role)}static isProjectMember(e,t){return!!e&&!!e.isActive&&(t.projectManager===e.id||t.team?.includes(e.id)||e.assignedProjects?.includes(t.id))}static getAccessibleProjectIds(e,t){if(!e||!e.isActive)return[];if("super_admin"===e.role||"admin"===e.role)return t.map(e=>e.id);if(e.permissions?.projects?.canViewAllProjects)return t.map(e=>e.id);let a=new Set;return e.assignedProjects&&e.assignedProjects.forEach(e=>a.add(e)),t.forEach(t=>{(t.projectManager===e.id||t.team?.includes(e.id))&&a.add(t.id)}),Array.from(a)}}let c=(0,n.createContext)(void 0),l=()=>{let e=(0,n.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},u=({children:e})=>{let[t,a]=(0,n.useState)(null),[o,l]=(0,n.useState)(!0),u=(0,s.v)();(0,n.useEffect)(()=>{(()=>{try{let e=localStorage.getItem("ampere_user");if(e){let t=JSON.parse(e),r=i.bs.find(e=>e.id===t.id&&e.isActive);r?a(r):localStorage.removeItem("ampere_user")}}catch(e){console.error("Error initializing auth:",e),localStorage.removeItem("ampere_user")}finally{l(!1)}})()},[]);let m=async(e,t)=>{l(!0);try{let r;if(await new Promise(e=>setTimeout(e,1e3)),!(r=e.includes("@")?i.bs.find(t=>t.email.toLowerCase()===e.toLowerCase()):i.bs.find(t=>t.name.toLowerCase()===e.toLowerCase())))return{success:!1,error:"User not found"};if(!r.isActive)return{success:!1,error:"Account is inactive. Please contact administrator."};if(t.length<3)return{success:!1,error:"Invalid password"};let n={...r,lastLogin:new Date};a(n),localStorage.setItem("ampere_user",JSON.stringify(n));try{u.addAuditLog((0,s.U)("LOGIN","USER",n.id,n,{entityName:n.name,details:`User logged in via ${e.includes("@")?"email":"username"}`}))}catch(e){console.warn("Audit logging failed, but login will continue:",e)}return{success:!0}}catch(e){return console.error("Login error:",e),{success:!1,error:"Login failed. Please try again."}}finally{l(!1)}},p=!!t;return r.jsx(c.Provider,{value:{user:t,isAuthenticated:p,isLoading:o,login:m,logout:()=>{if(t)try{u.addAuditLog((0,s.U)("LOGOUT","USER",t.id,t,{entityName:t.name,details:"User logged out"}))}catch(e){console.warn("Audit logging failed during logout:",e)}a(null),localStorage.removeItem("ampere_user")},hasPermission:e=>!!t&&e.includes(t.role),switchUser:e=>{let r=i.bs.find(t=>t.id===e&&t.isActive);if(r){let e={...r,lastLogin:new Date};if(t)try{u.addAuditLog((0,s.U)("LOGOUT","USER",t.id,t,{entityName:t.name,details:"User switched account"}))}catch(e){console.warn("Audit logging failed during user switch logout:",e)}try{u.addAuditLog((0,s.U)("LOGIN","USER",e.id,e,{entityName:e.name,details:"User account switched (demo mode)"}))}catch(e){console.warn("Audit logging failed during user switch login:",e)}a(e),localStorage.setItem("ampere_user",JSON.stringify(e))}},canAccessFinance:()=>!!t&&d.canAccessFinance(t),canEditInvoices:()=>!!t&&d.canEditInvoices(t),canDeleteInvoices:()=>!!t&&d.canDeleteInvoices(t),canManagePayments:()=>!!t&&d.canManagePayments(t),canViewProject:e=>!!t&&d.canViewProject(t,e),canEditProject:e=>!!t&&d.canEditProject(t,e),canCreateProjects:()=>!!t&&d.canCreateProjects(t),canDeleteProjects:()=>!!t&&d.canDeleteProjects(t),canManageProjectTeam:e=>!!t&&d.canManageProjectTeam(t,e),canViewClients:()=>!!t&&d.canViewClients(t),canEditClients:()=>!!t&&d.canEditClients(t),canCreateClients:()=>!!t&&d.canCreateClients(t),canDeleteClients:()=>!!t&&d.canDeleteClients(t),canManageUsers:()=>!!t&&d.canManageUsers(t),canViewAuditLogs:()=>!!t&&d.canViewAuditLogs(t),canManageSettings:()=>!!t&&d.canManageSettings(t),canViewReports:()=>!!t&&d.canViewReports(t),getAccessibleProjects:e=>t?d.getAccessibleProjects(t,e):[],getAccessibleProjectIds:e=>t?d.getAccessibleProjectIds(t,e):[],hasAnyRole:e=>!!t&&d.hasAnyRole(t,e),isProjectMember:e=>!!t&&d.isProjectMember(t,e)},children:e})},m=[{email:"john.tan@ampere.com.sg",username:"John Tan",password:"admin123",role:"Super Admin"},{email:"zack@ampere.com.sg",username:"Zack",password:"admin1234",role:"Super Admin"},{email:"sarah.lim@ampere.com.sg",username:"Sarah Lim",password:"admin123",role:"Admin"},{email:"david.wong@ampere.com.sg",username:"David Wong",password:"projects123",role:"Projects"},{email:"michelle.chen@ampere.com.sg",username:"Michelle Chen",password:"finance123",role:"Finance"},{email:"robert.kumar@ampere.com.sg",username:"Robert Kumar",password:"sales123",role:"Sales"}]},9682:(e,t,a)=>{"use strict";a.d(t,{ClientProvider:()=>u,a:()=>l});var r=a(326),n=a(7577),i=a(1902),s=a(8995),o=a(4471),d=a(827);let c=(0,n.createContext)(void 0),l=()=>{let e=(0,n.useContext)(c);if(void 0===e)throw Error("useClients must be used within a ClientProvider");return e},u=({children:e})=>{let[t,a]=(0,n.useState)(i.s$),{user:l}=(0,o.a)(),u=(0,d.v)();(0,n.useEffect)(()=>{try{let e=localStorage.getItem("ampere_clients");if(e){let t=JSON.parse(e);if(Array.isArray(t)&&t.length>0){let e=m(t);a(e)}}else{let e=m(i.s$);a(e)}}catch(e){console.error("Error loading clients from localStorage:",e),a(m(i.s$))}},[]);let m=e=>{let t=[],a=1;return e.forEach(e=>{if(e.clientCode){t.push(e);let r=p(e.clientCode);r>=a&&(a=r+1)}else{let r=a.toString().padStart(3,"0"),n=`AMP-C-${r}`;t.push({...e,clientCode:n}),a++}}),t},p=e=>{let t=e.match(/AMP-C-(\d+)/);return t?parseInt(t[1],10):0};(0,n.useEffect)(()=>{try{localStorage.setItem("ampere_clients",JSON.stringify(t))}catch(e){console.error("Error saving clients to localStorage:",e)}},[t]);let g=e=>t.find(t=>t.id===e);return r.jsx(c.Provider,{value:{clients:t,getClient:g,addClient:e=>{let r={id:(Math.max(...t.map(e=>parseInt(e.id)||0))+1).toString(),clientCode:(0,s.gE)(t),name:e.name||"",type:e.type||"corporate",contactPerson:e.contactPerson||"",email:e.email||"",phone:e.phone||"",address:e.address||{street:"",postalCode:"",district:""},paymentTerms:e.paymentTerms||30,status:e.status||"active",projects:[],createdAt:new Date,...e};return a(e=>[...e,r]),l&&u.addAuditLog((0,d.U)("CREATE","CLIENT",r.id,l,{entityName:r.name,details:`Created new client (${r.clientCode}) of type: ${r.type}`})),r},updateClient:(e,t)=>{let r=g(e);if(!r)return!1;if(a(a=>{let r=a.findIndex(t=>t.id===e);if(-1===r)return a;let n={...a[r],...t},i=[...a];return i[r]=n,i}),l&&r){let a={...r,...t};u.addAuditLog((0,d.U)("UPDATE","CLIENT",e,l,{entityName:r.name,oldData:r,newData:a,details:`Updated client information for ${r.clientCode}`,excludeFields:["projects","createdAt"]}))}return!0},deleteClient:e=>{let t=g(e);return!!t&&(a(t=>t.filter(t=>t.id!==e)),l&&u.addAuditLog((0,d.U)("DELETE","CLIENT",e,l,{entityName:t.name,details:`Deleted client ${t.clientCode} (${t.name})`})),!0)},refreshClients:()=>{try{let e=localStorage.getItem("ampere_clients");e?a(JSON.parse(e)):a(i.s$)}catch(e){console.error("Error refreshing clients:",e),a(i.s$)}}},children:e})}},9209:(e,t,a)=>{"use strict";a.d(t,{FinanceProvider:()=>d,p:()=>o});var r=a(326),n=a(7577),i=a(1902);let s=(0,n.createContext)(void 0),o=()=>{let e=(0,n.useContext)(s);if(void 0===e)throw Error("useFinance must be used within a FinanceProvider");return e},d=({children:e})=>{let[t,a]=(0,n.useState)(i.Ep),[o,d]=(0,n.useState)(i.kG),[c,l]=(0,n.useState)([]);(0,n.useEffect)(()=>{try{let e=localStorage.getItem("ampere_invoices"),t=localStorage.getItem("ampere_payments"),r=localStorage.getItem("ampere_vendor_invoices");if(e){let t=JSON.parse(e);Array.isArray(t)&&t.length>0&&a(t)}if(t){let e=JSON.parse(t);Array.isArray(e)&&e.length>0&&d(e)}if(r){let e=JSON.parse(r);Array.isArray(e)&&e.length>0&&l(e)}}catch(e){console.error("Error loading finance data from localStorage:",e),a(i.Ep),d(i.kG),l([])}},[]),(0,n.useEffect)(()=>{try{localStorage.setItem("ampere_invoices",JSON.stringify(t))}catch(e){console.error("Error saving invoices to localStorage:",e)}},[t]),(0,n.useEffect)(()=>{try{localStorage.setItem("ampere_payments",JSON.stringify(o))}catch(e){console.error("Error saving payments to localStorage:",e)}},[o]),(0,n.useEffect)(()=>{try{localStorage.setItem("ampere_vendor_invoices",JSON.stringify(c))}catch(e){console.error("Error saving vendor invoices to localStorage:",e)}},[c]);let u=e=>t.find(t=>t.id===e),m=e=>o.find(t=>t.id===e),p=e=>c.find(t=>t.id===e),g=(e,t)=>(a(a=>{let r=a.findIndex(t=>t.id===e);if(-1===r)return a;let n={...a[r],...t};t.amount&&!t.gstAmount&&(n.gstAmount=.07*t.amount,n.totalAmount=1.07*t.amount);let i=[...a];return i[r]=n,i}),!0),f=(e,t)=>(l(a=>{let r=a.findIndex(t=>t.id===e);if(-1===r)return a;let n={...a[r],...t};t.amount&&!t.gstAmount&&(n.gstAmount=.07*t.amount,n.totalAmount=1.07*t.amount);let i=[...a];return i[r]=n,i}),!0);return r.jsx(s.Provider,{value:{invoices:t,payments:o,vendorInvoices:c,getInvoice:u,getPayment:m,getVendorInvoice:p,getInvoicePayments:e=>o.filter(t=>t.invoiceId===e),getVendorInvoicePayments:e=>o.filter(t=>t.invoiceId===e),addInvoice:e=>{let r=(Math.max(...t.map(e=>parseInt(e.id)||0))+1).toString(),n=new Date,i=n.getFullYear(),s=String(n.getMonth()+1).padStart(2,"0"),o=t.filter(e=>e.invoiceNumber.includes(`${i}${s}`)).length+1,d={id:r,invoiceNumber:`AMP-INV-${i}${s}-${String(o).padStart(3,"0")}`,clientId:e.clientId||"",projectId:e.projectId,quotationId:e.quotationId,amount:e.amount||0,gstAmount:e.gstAmount||.07*(e.amount||0),totalAmount:e.totalAmount||1.07*(e.amount||0),status:e.status||"draft",issueDate:e.issueDate||new Date,dueDate:e.dueDate||new Date(Date.now()+2592e6),paidDate:e.paidDate,paymentMethod:e.paymentMethod,createdAt:new Date,...e};return a(e=>[...e,d]),d},updateInvoice:g,deleteInvoice:e=>(d(t=>t.filter(t=>t.invoiceId!==e)),a(t=>t.filter(t=>t.id!==e)),!0),addVendorInvoice:e=>{let t=(Math.max(...c.map(e=>parseInt(e.id)||0))+1).toString(),a=new Date,r=a.getFullYear(),n=String(a.getMonth()+1).padStart(2,"0"),i=c.filter(e=>e.invoiceNumber.includes(`${r}${n}`)).length+1,s={id:t,invoiceNumber:`AMP-VI-${r}${n}-${String(i).padStart(3,"0")}`,vendorId:e.vendorId||"",projectId:e.projectId,purchaseOrderId:e.purchaseOrderId,amount:e.amount||0,gstAmount:e.gstAmount||.07*(e.amount||0),totalAmount:e.totalAmount||1.07*(e.amount||0),status:e.status||"received",issueDate:e.issueDate||new Date,dueDate:e.dueDate||new Date(Date.now()+2592e6),paidDate:e.paidDate,paymentMethod:e.paymentMethod,createdAt:new Date,fileName:e.fileName,fileUrl:e.fileUrl,processedData:e.processedData,...e};return l(e=>[...e,s]),s},updateVendorInvoice:f,deleteVendorInvoice:e=>(d(t=>t.filter(t=>t.invoiceId!==e)),l(t=>t.filter(t=>t.id!==e)),!0),addPayment:e=>{let t={id:(Math.max(...o.map(e=>parseInt(e.id)||0))+1).toString(),invoiceId:e.invoiceId||"",amount:e.amount||0,method:e.method||"bank_transfer",reference:e.reference||"",receivedDate:e.receivedDate||new Date,notes:e.notes,...e};d(e=>[...e,t]);let a=u(t.invoiceId);return a&&[...o,t].filter(e=>e.invoiceId===a.id).reduce((e,t)=>e+t.amount,0)>=a.totalAmount&&"paid"!==a.status&&g(a.id,{status:"paid",paidDate:t.receivedDate,paymentMethod:t.method}),t},addVendorPayment:e=>{let t={id:(Math.max(...o.map(e=>parseInt(e.id)||0))+1).toString(),invoiceId:e.invoiceId||"",amount:e.amount||0,method:e.method||"bank_transfer",reference:e.reference||"",receivedDate:e.receivedDate||new Date,notes:e.notes,...e};d(e=>[...e,t]);let a=p(t.invoiceId);return a&&[...o,t].filter(e=>e.invoiceId===a.id).reduce((e,t)=>e+t.amount,0)>=a.totalAmount&&"paid"!==a.status&&f(a.id,{status:"paid",paidDate:t.receivedDate,paymentMethod:t.method}),t},updatePayment:(e,t)=>(d(a=>{let r=a.findIndex(t=>t.id===e);if(-1===r)return a;let n={...a[r],...t},i=[...a];return i[r]=n,i}),!0),deletePayment:e=>{let t=m(e);if(t){let a=u(t.invoiceId);a&&"paid"===a.status&&o.filter(a=>a.invoiceId===t.invoiceId&&a.id!==e).reduce((e,t)=>e+t.amount,0)<a.totalAmount&&g(a.id,{status:"sent",paidDate:void 0,paymentMethod:void 0});let r=p(t.invoiceId);r&&"paid"===r.status&&o.filter(a=>a.invoiceId===t.invoiceId&&a.id!==e).reduce((e,t)=>e+t.amount,0)<r.totalAmount&&f(r.id,{status:"approved",paidDate:void 0,paymentMethod:void 0})}return d(t=>t.filter(t=>t.id!==e)),!0},getInvoicesByClient:e=>t.filter(t=>t.clientId===e),getVendorInvoicesByVendor:e=>c.filter(t=>t.vendorId===e),getInvoicesByProject:e=>t.filter(t=>t.projectId===e),getVendorInvoicesByProject:e=>c.filter(t=>t.projectId===e),getInvoicesByStatus:e=>t.filter(t=>t.status===e),getVendorInvoicesByStatus:e=>c.filter(t=>t.status===e),getOverdueInvoices:()=>{let e=new Date;return t.filter(t=>"paid"!==t.status&&"cancelled"!==t.status&&new Date(t.dueDate)<e)},getOverdueVendorInvoices:()=>{let e=new Date;return c.filter(t=>"paid"!==t.status&&"cancelled"!==t.status&&new Date(t.dueDate)<e)},getTotalOutstanding:()=>t.filter(e=>"paid"!==e.status&&"cancelled"!==e.status).reduce((e,t)=>e+t.totalAmount,0),getTotalVendorOutstanding:()=>c.filter(e=>"paid"!==e.status&&"cancelled"!==e.status).reduce((e,t)=>e+t.totalAmount,0),getTotalPaid:()=>o.reduce((e,t)=>e+t.amount,0),getTotalVendorPaid:()=>o.reduce((e,t)=>e+t.amount,0),refreshFinanceData:()=>{try{let e=localStorage.getItem("ampere_invoices"),t=localStorage.getItem("ampere_payments"),r=localStorage.getItem("ampere_vendor_invoices");e?a(JSON.parse(e)):a(i.Ep),t?d(JSON.parse(t)):d(i.kG),r&&l(JSON.parse(r))}catch(e){console.error("Error refreshing finance data:",e),a(i.Ep),d(i.kG),l([])}}},children:e})}},1293:(e,t,a)=>{"use strict";a.d(t,{ProjectProvider:()=>c,Z:()=>d});var r=a(326),n=a(7577),i=a(1902),s=a(4471);let o=(0,n.createContext)(void 0),d=()=>{let e=(0,n.useContext)(o);if(void 0===e)throw Error("useProjects must be used within a ProjectProvider");return e},c=({children:e})=>{let[t,a]=(0,n.useState)(i.ZQ),{user:d,getAccessibleProjects:c}=(0,s.a)();(0,n.useEffect)(()=>{try{let e=localStorage.getItem("ampere_projects");if(e){let t=JSON.parse(e);Array.isArray(t)&&t.length>0&&a(t)}}catch(e){console.error("Error loading projects from localStorage:",e),a(i.ZQ)}},[]),(0,n.useEffect)(()=>{try{localStorage.setItem("ampere_projects",JSON.stringify(t))}catch(e){console.error("Error saving projects to localStorage:",e)}},[t]);let l=c(t);return r.jsx(o.Provider,{value:{projects:t,accessibleProjects:l,allProjects:t,getProject:e=>{let a=t.find(t=>t.id===e);return a&&d?l.some(t=>t.id===e)?a:void 0:a},addProject:e=>{let r={id:(Math.max(...t.map(e=>parseInt(e.id)||0))+1).toString(),name:e.name||"",clientId:e.clientId||"",type:e.type||"renovation",status:e.status||"planning",description:e.description||"",location:e.location||{street:"",postalCode:"",district:""},contractValue:e.contractValue||0,estimatedCost:e.estimatedCost||0,actualCost:e.actualCost||void 0,startDate:e.startDate||new Date,expectedEndDate:e.expectedEndDate||new Date,actualEndDate:e.actualEndDate||void 0,projectManager:e.projectManager||"",team:e.team||[],permits:e.permits||[],milestones:e.milestones||[],vendors:(e.vendors||[]).map(e=>({...e,budgetAllocated:void 0!==e.budgetAllocated?e.budgetAllocated:0,budgetUsed:void 0!==e.budgetUsed?e.budgetUsed:0})),documents:e.documents||[],createdAt:new Date,updatedAt:new Date,...e};return a(e=>[...e,r]),r},updateProject:(e,t)=>(a(a=>{let r=a.findIndex(t=>t.id===e);if(-1===r)return a;let n=a[r].vendors;t.vendors&&(n=t.vendors.map(e=>({...e,budgetAllocated:void 0!==e.budgetAllocated?e.budgetAllocated:e.budgetAllocated||0,budgetUsed:void 0!==e.budgetUsed?e.budgetUsed:e.budgetUsed||0})));let i={...a[r],...t,vendors:n,updatedAt:new Date},s=[...a];return s[r]=i,s}),!0),deleteProject:e=>(a(t=>t.filter(t=>t.id!==e)),!0),refreshProjects:()=>{try{let e=localStorage.getItem("ampere_projects");e?a(JSON.parse(e)):a(i.ZQ)}catch(e){console.error("Error refreshing projects:",e),a(i.ZQ)}},getProjectsByClient:e=>l.filter(t=>t.clientId===e),getProjectsByStatus:e=>l.filter(t=>t.status===e),canUserAccessProject:e=>l.some(t=>t.id===e),addPermit:(e,t)=>(a(a=>{let r=a.findIndex(t=>t.id===e);if(-1===r)return a;let n=a[r],i={id:(Math.max(0,...n.permits.map(e=>parseInt(e.id)||0))+1).toString(),type:t.type||"renovation_permit",applicationNumber:t.applicationNumber||"",status:t.status||"draft",submittedDate:t.submittedDate||new Date,approvedDate:t.approvedDate,expiryDate:t.expiryDate,authority:t.authority||"bca",fee:t.fee||0,documents:t.documents||[],notes:t.notes,...t},s={...n,permits:[...n.permits,i],updatedAt:new Date},o=[...a];return o[r]=s,o}),!0),updatePermit:(e,t,r)=>(a(a=>{let n=a.findIndex(t=>t.id===e);if(-1===n)return a;let i=a[n],s=i.permits.findIndex(e=>e.id===t);if(-1===s)return a;let o=[...i.permits];o[s]={...o[s],...r};let d={...i,permits:o,updatedAt:new Date},c=[...a];return c[n]=d,c}),!0),deletePermit:(e,t)=>(a(a=>{let r=a.findIndex(t=>t.id===e);if(-1===r)return a;let n=a[r],i=n.permits.filter(e=>e.id!==t),s={...n,permits:i,updatedAt:new Date},o=[...a];return o[r]=s,o}),!0),addMilestone:(e,t)=>(a(a=>{let r=a.findIndex(t=>t.id===e);if(-1===r)return a;let n=a[r],i={id:(Math.max(0,...n.milestones.map(e=>parseInt(e.id)||0))+1).toString(),name:t.name||"",description:t.description||"",targetDate:t.targetDate||new Date,actualDate:t.actualDate,status:t.status||"pending",dependencies:t.dependencies||[],completionPercentage:t.completionPercentage||0,...t},s={...n,milestones:[...n.milestones,i],updatedAt:new Date},o=[...a];return o[r]=s,o}),!0),updateMilestone:(e,t,r)=>(a(a=>{let n=a.findIndex(t=>t.id===e);if(-1===n)return a;let i=a[n],s=i.milestones.findIndex(e=>e.id===t);if(-1===s)return a;let o=[...i.milestones];o[s]={...o[s],...r};let d={...i,milestones:o,updatedAt:new Date},c=[...a];return c[n]=d,c}),!0),deleteMilestone:(e,t)=>(a(a=>{let r=a.findIndex(t=>t.id===e);if(-1===r)return a;let n=a[r],i=n.milestones.filter(e=>e.id!==t).map(e=>({...e,dependencies:e.dependencies.filter(e=>e!==t)})),s={...n,milestones:i,updatedAt:new Date},o=[...a];return o[r]=s,o}),!0),addProjectVendor:(e,t)=>(a(a=>{let r=a.findIndex(t=>t.id===e);if(-1===r)return a;let n=a[r],i={vendorId:t.vendorId||"",role:t.role||"",contractValue:t.contractValue||0,budgetAllocated:void 0!==t.budgetAllocated?t.budgetAllocated:0,budgetUsed:void 0!==t.budgetUsed?t.budgetUsed:0,startDate:t.startDate||new Date,endDate:t.endDate,status:t.status||"assigned"},s={...n,vendors:[...n.vendors,i],updatedAt:new Date},o=[...a];return o[r]=s,o}),!0),updateProjectVendor:(e,t,r)=>(a(a=>{let n=a.findIndex(t=>t.id===e);if(-1===n)return a;let i=a[n],s=i.vendors.findIndex(e=>e.vendorId===t);if(-1===s)return a;let o=[...i.vendors];o[s]={...o[s],...r,budgetAllocated:void 0!==r.budgetAllocated?r.budgetAllocated:o[s].budgetAllocated,budgetUsed:void 0!==r.budgetUsed?r.budgetUsed:o[s].budgetUsed};let d={...i,vendors:o,updatedAt:new Date},c=[...a];return c[n]=d,c}),!0),deleteProjectVendor:(e,t)=>(a(a=>{let r=a.findIndex(t=>t.id===e);if(-1===r)return a;let n=a[r],i=n.vendors.filter(e=>e.vendorId!==t),s={...n,vendors:i,updatedAt:new Date},o=[...a];return o[r]=s,o}),!0),updateVendorBudgetUsage:(e,t,r)=>(a(a=>{let n=a.findIndex(t=>t.id===e);if(-1===n)return a;let i=a[n],s=i.vendors.findIndex(e=>e.vendorId===t);if(-1===s)return a;let o=[...i.vendors],d=o[s].budgetUsed||0;o[s]={...o[s],budgetUsed:Math.max(0,d+r)};let c={...i,vendors:o,updatedAt:new Date},l=[...a];return l[n]=c,l}),!0)},children:e})}},849:(e,t,a)=>{"use strict";a.d(t,{PurchaseOrderProvider:()=>u,_:()=>c});var r=a(326),n=a(7577),i=a(4471),s=a(1293),o=a(9982);let d=(0,n.createContext)(void 0),c=()=>{let e=(0,n.useContext)(d);if(void 0===e)throw Error("usePurchaseOrders must be used within a PurchaseOrderProvider");return e},l=[{id:"1",poNumber:"AMP-PO-202401-001",projectId:"1",vendorId:"1",title:"Electrical Materials for Marina Bay Project",description:"Purchase order for electrical materials and components",status:"approved",issueDate:new Date("2024-01-15"),requiredDate:new Date("2024-02-15"),deliveryDate:new Date("2024-02-10"),items:[{id:"1",description:"Circuit Breakers",quantity:20,unit:"pcs",unitPrice:45.5,totalPrice:910,category:"Materials",receivedQuantity:20},{id:"2",description:"Electrical Cables",quantity:100,unit:"meters",unitPrice:3.25,totalPrice:325,category:"Materials",receivedQuantity:100}],subtotal:1235,gst:86.45,totalAmount:1321.45,terms:["Payment terms: 30 days from invoice date","Delivery within 30 days of order confirmation"],preparedBy:"1",approvedBy:"2",approvedDate:new Date("2024-01-16"),createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-02-10"),notes:"Urgent delivery required"}],u=({children:e})=>{let[t,a]=(0,n.useState)(l),{user:c}=(0,i.a)(),{accessibleProjects:u,updateVendorBudgetUsage:m}=(0,s.Z)(),{vendors:p}=(0,o.R)();(0,n.useEffect)(()=>{try{let e=localStorage.getItem("ampere_purchase_orders");if(e){let t=JSON.parse(e);Array.isArray(t)&&t.length>0&&a(t)}}catch(e){console.error("Error loading purchase orders from localStorage:",e),a(l)}},[]),(0,n.useEffect)(()=>{try{localStorage.setItem("ampere_purchase_orders",JSON.stringify(t))}catch(e){console.error("Error saving purchase orders to localStorage:",e)}},[t]);let g=t.filter(e=>!0),f=()=>{let e=new Date,a=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=t.filter(e=>e.poNumber.includes(`${a}${r}`)).length+1;return`AMP-PO-${a}${r}-${String(n).padStart(3,"0")}`};return r.jsx(d.Provider,{value:{purchaseOrders:t,accessiblePurchaseOrders:g,getPurchaseOrder:e=>t.find(t=>t.id===e),addPurchaseOrder:e=>{let r={id:(Math.max(...t.map(e=>parseInt(e.id)||0))+1).toString(),poNumber:e.poNumber||f(),projectId:e.projectId||"",vendorId:e.vendorId||"",clientId:e.clientId,title:e.title||"",description:e.description||"",status:e.status||"draft",issueDate:e.issueDate||new Date,requiredDate:e.requiredDate||new Date(Date.now()+2592e6),deliveryDate:e.deliveryDate,items:e.items||[],subtotal:e.subtotal||0,gst:e.gst||0,discount:e.discount,totalAmount:e.totalAmount||0,terms:e.terms||[],preparedBy:e.preparedBy||c?.id||"",approvedBy:e.approvedBy,approvedDate:e.approvedDate,createdAt:new Date,updatedAt:new Date,notes:e.notes,...e};return a(e=>[...e,r]),r.totalAmount>0&&r.projectId&&r.vendorId&&m(r.projectId,r.vendorId,r.totalAmount),r},updatePurchaseOrder:(e,r)=>{let n=t.find(t=>t.id===e);if(a(t=>{let a=t.findIndex(t=>t.id===e);if(-1===a)return t;let n={...t[a],...r,updatedAt:new Date},i=[...t];return i[a]=n,i}),n&&void 0!==r.totalAmount&&n.totalAmount!==r.totalAmount){let e=r.totalAmount-n.totalAmount;n.projectId&&n.vendorId&&0!==e&&m(n.projectId,n.vendorId,e)}return!0},deletePurchaseOrder:e=>{let r=t.find(t=>t.id===e);return a(t=>t.filter(t=>t.id!==e)),r&&r.totalAmount>0&&r.projectId&&r.vendorId&&m(r.projectId,r.vendorId,-r.totalAmount),!0},refreshPurchaseOrders:()=>{try{let e=localStorage.getItem("ampere_purchase_orders");e?a(JSON.parse(e)):a(l)}catch(e){console.error("Error refreshing purchase orders:",e),a(l)}},getPurchaseOrdersByProject:e=>g.filter(t=>t.projectId===e),getPurchaseOrdersByVendor:e=>g.filter(t=>t.vendorId===e),getPurchaseOrdersByStatus:e=>g.filter(t=>t.status===e),getNextPONumber:f,addPurchaseOrderItem:(e,r)=>{let n=t.find(t=>t.id===e);if(a(t=>{let a=t.findIndex(t=>t.id===e);if(-1===a)return t;let n=t[a],i={id:(Math.max(0,...n.items.map(e=>parseInt(e.id)||0))+1).toString(),description:r.description||"",quantity:r.quantity||0,unit:r.unit||"pcs",unitPrice:r.unitPrice||0,totalPrice:r.totalPrice||(r.quantity||0)*(r.unitPrice||0),category:r.category||"Materials",notes:r.notes,receivedQuantity:r.receivedQuantity,...r},s={...n,items:[...n.items,i],updatedAt:new Date},o=s.items.reduce((e,t)=>e+t.totalPrice,0),d=.07*o,c=o+d-(s.discount||0);s.subtotal=o,s.gst=d,s.totalAmount=c;let l=[...t];return l[a]=s,l}),n){let e=(r.quantity||0)*(r.unitPrice||0),t=e+.07*e;n.projectId&&n.vendorId&&t>0&&m(n.projectId,n.vendorId,t)}return!0},updatePurchaseOrderItem:(e,r,n)=>{let i=t.find(t=>t.id===e),s=i?.items.find(e=>e.id===r);if(a(t=>{let a=t.findIndex(t=>t.id===e);if(-1===a)return t;let i=t[a],s=i.items.findIndex(e=>e.id===r);if(-1===s)return t;let o={...i.items[s],...n};(void 0!==n.quantity||void 0!==n.unitPrice)&&(o.totalPrice=(void 0!==n.quantity?n.quantity:o.quantity)*(void 0!==n.unitPrice?n.unitPrice:o.unitPrice));let d=[...i.items];d[s]=o;let c={...i,items:d,updatedAt:new Date},l=c.items.reduce((e,t)=>e+t.totalPrice,0),u=.07*l,m=l+u-(c.discount||0);c.subtotal=l,c.gst=u,c.totalAmount=m;let p=[...t];return p[a]=c,p}),i&&s){let e=s.totalPrice,t=(void 0!==n.quantity?n.quantity:s.quantity)*(void 0!==n.unitPrice?n.unitPrice:s.unitPrice)-e,a=t+.07*t;i.projectId&&i.vendorId&&0!==a&&m(i.projectId,i.vendorId,a)}return!0},deletePurchaseOrderItem:(e,r)=>{let n=t.find(t=>t.id===e),i=n?.items.find(e=>e.id===r);if(a(t=>{let a=t.findIndex(t=>t.id===e);if(-1===a)return t;let n=t[a],i=n.items.filter(e=>e.id!==r),s={...n,items:i,updatedAt:new Date},o=s.items.reduce((e,t)=>e+t.totalPrice,0),d=.07*o,c=o+d-(s.discount||0);s.subtotal=o,s.gst=d,s.totalAmount=c;let l=[...t];return l[a]=s,l}),n&&i){let e=i.totalPrice,t=e+.07*e;n.projectId&&n.vendorId&&t>0&&m(n.projectId,n.vendorId,-t)}return!0}},children:e})}},5956:(e,t,a)=>{"use strict";a.d(t,{QuotationProvider:()=>d,_:()=>o});var r=a(326),n=a(7577),i=a(1902);let s=(0,n.createContext)(void 0),o=()=>{let e=(0,n.useContext)(s);if(void 0===e)throw Error("useQuotations must be used within a QuotationProvider");return e},d=({children:e})=>{let[t,a]=(0,n.useState)(i.C7);(0,n.useEffect)(()=>{try{let e=localStorage.getItem("ampere_quotations");if(e){let t=JSON.parse(e);Array.isArray(t)&&t.length>0&&a(t)}}catch(e){console.error("Error loading quotations from localStorage:",e),a(i.C7)}},[]),(0,n.useEffect)(()=>{try{localStorage.setItem("ampere_quotations",JSON.stringify(t))}catch(e){console.error("Error saving quotations to localStorage:",e)}},[t]);let o=()=>{let e=new Date,a=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=`AMP-${a}${r}-`,i=t.filter(e=>e.quotationNumber.startsWith(n)).map(e=>parseInt(e.quotationNumber.split("-")[2])||0);return`${n}${String(Math.max(0,...i)+1).padStart(3,"0")}`};return r.jsx(s.Provider,{value:{quotations:t,getQuotation:e=>t.find(t=>t.id===e),addQuotation:e=>{let r=(Math.max(...t.map(e=>parseInt(e.id)||0))+1).toString(),n=e.quotationNumber||o(),i=e.items||[],s=i.reduce((e,t)=>e+t.totalPrice,0),d=.07*s,c=e.discount||0,l={id:r,clientId:e.clientId||"",projectId:e.projectId,tenderId:e.tenderId,quotationNumber:n,title:e.title||"",description:e.description||"",status:e.status||"draft",validUntil:e.validUntil||new Date(Date.now()+2592e6),items:i,subtotal:s,gst:d,discount:c,totalAmount:s+d-c,terms:e.terms||["Prices valid for 30 days","Payment terms: 30 days from invoice date","All materials comply with Singapore standards"],preparedBy:e.preparedBy||"",approvedBy:e.approvedBy,sentDate:e.sentDate,createdAt:new Date,updatedAt:new Date,notes:e.notes,...e};return a(e=>[...e,l]),l},updateQuotation:(e,t)=>(a(a=>{let r=a.findIndex(t=>t.id===e);if(-1===r)return a;let n={...t};if(t.items){let e=t.items.reduce((e,t)=>e+t.totalPrice,0),i=.07*e,s=t.discount||a[r].discount||0;n={...t,subtotal:e,gst:i,totalAmount:e+i-s}}let i={...a[r],...n,updatedAt:new Date},s=[...a];return s[r]=i,s}),!0),deleteQuotation:e=>(a(t=>t.filter(t=>t.id!==e)),!0),refreshQuotations:()=>{try{let e=localStorage.getItem("ampere_quotations");e?a(JSON.parse(e)):a(i.C7)}catch(e){console.error("Error refreshing quotations:",e),a(i.C7)}},generateQuotationNumber:o},children:e})}},9666:(e,t,a)=>{"use strict";a.d(t,{ReportsProvider:()=>d,x:()=>o});var r=a(326),n=a(7577),i=a(1902);let s=(0,n.createContext)(void 0),o=()=>{let e=(0,n.useContext)(s);if(void 0===e)throw Error("useReports must be used within a ReportsProvider");return e},d=({children:e})=>{let[t,a]=(0,n.useState)(i.cl);(0,n.useEffect)(()=>{try{let e=localStorage.getItem("ampere_reports");if(e){let t=JSON.parse(e);Array.isArray(t)&&t.length>0&&a(t)}}catch(e){console.error("Error loading reports data from localStorage:",e),a(i.cl)}},[]),(0,n.useEffect)(()=>{try{localStorage.setItem("ampere_reports",JSON.stringify(t))}catch(e){console.error("Error saving reports to localStorage:",e)}},[t]);let o=e=>{let t=JSON.parse(localStorage.getItem("ampere_invoices")||"[]"),a=JSON.parse(localStorage.getItem("ampere_payments")||"[]"),r=JSON.parse(localStorage.getItem("ampere_projects")||"[]"),n=JSON.parse(localStorage.getItem("ampere_clients")||"[]"),{startDate:i,endDate:s}=e.dateRange,o=t.filter(e=>{let t=new Date(e.issueDate);return t>=i&&t<=s}),d=a.filter(e=>{let t=new Date(e.receivedDate);return t>=i&&t<=s}),c=d.reduce((e,t)=>e+t.amount,0),l=d.reduce((e,t)=>{let a=new Date(t.receivedDate).toISOString().substring(0,7);return e[a]=(e[a]||0)+t.amount,e},{}),u=d.reduce((e,a)=>{let r=t.find(e=>e.id===a.invoiceId);if(r){let t=n.find(e=>e.id===r.clientId),i=t?.name||"Unknown Client",s=e.find(e=>e.clientId===r.clientId);s?s.amount+=a.amount:e.push({clientId:r.clientId,clientName:i,amount:a.amount})}return e},[]),m=d.reduce((e,a)=>{let n=t.find(e=>e.id===a.invoiceId);if(n&&n.projectId){let t=r.find(e=>e.id===n.projectId),i=t?.name||"Unknown Project",s=e.find(e=>e.projectId===n.projectId);s?s.amount+=a.amount:e.push({projectId:n.projectId,projectName:i,amount:a.amount})}return e},[]),p=r.filter(e=>{let t=new Date(e.startDate);return t>=i&&t<=s}).reduce((e,t)=>e+(t.actualCost||t.estimatedCost||0),0),g=c-p,f=o.reduce((e,t)=>e+t.totalAmount,0),v=o.filter(e=>new Date(e.dueDate)<new Date&&"paid"!==e.status).reduce((e,t)=>e+t.totalAmount,0),y=o.reduce((e,t)=>e+(t.gstAmount||0),0);return{period:{startDate:i,endDate:s},revenue:{total:c,byMonth:Object.entries(l).map(([e,t])=>({month:e,amount:t})),byClient:u,byProject:m},expenses:{total:p,byCategory:[{category:"Labor",amount:.4*p},{category:"Materials",amount:.35*p},{category:"Equipment",amount:.15*p},{category:"Overhead",amount:.1*p}],byVendor:[]},profitability:{grossProfit:g,netProfit:.85*g,profitMargin:c>0?g/c*100:0,byProject:r.map(e=>({projectId:e.id,projectName:e.name,profit:e.contractValue-(e.actualCost||e.estimatedCost),margin:(e.contractValue-(e.actualCost||e.estimatedCost))/e.contractValue*100}))},cashFlow:{inflow:c,outflow:p,netCashFlow:c-p,outstanding:f-c,overdue:v},gst:{totalGSTCollected:y,totalGSTPaid:.07*p,netGST:y-.07*p}}},d=e=>{let t=JSON.parse(localStorage.getItem("ampere_projects")||"[]"),{startDate:a,endDate:r}=e.dateRange,n=t.filter(e=>{let t=new Date(e.startDate);return t>=a&&t<=r}),i=n.length,s=n.filter(e=>"in_progress"===e.status).length,o=n.filter(e=>"completed"===e.status).length,d=n.filter(e=>{let t=new Date(e.expectedEndDate);return(e.actualEndDate?new Date(e.actualEndDate):new Date)>t}).length,c=n.reduce((e,t)=>e+t.contractValue,0),l=n.reduce((e,t)=>{let a=new Date(t.startDate);return e+(new Date(t.actualEndDate?t.actualEndDate:t.expectedEndDate).getTime()-a.getTime())/864e5},0)/(i||1),u=n.filter(e=>e.actualCost||e.estimatedCost).map(e=>{let t=e.estimatedCost||.8*e.contractValue;return((e.actualCost||t)-t)/t*100});return{overview:{totalProjects:i,activeProjects:s,completedProjects:o,delayedProjects:d,averageProjectValue:i>0?c/i:0,totalContractValue:c},performance:{onTimeCompletionRate:o>0?(o-d)/o*100:0,averageProjectDuration:l,budgetVariance:{averageVariance:u.length>0?u.reduce((e,t)=>e+t,0)/u.length:0,projectsOverBudget:u.filter(e=>e>0).length,projectsUnderBudget:u.filter(e=>e<0).length}},byType:[{type:"renovation",count:n.filter(e=>"renovation"===e.type).length,totalValue:n.filter(e=>"renovation"===e.type).reduce((e,t)=>e+t.contractValue,0),averageDuration:45,completionRate:85},{type:"addition_alteration",count:n.filter(e=>"addition_alteration"===e.type).length,totalValue:n.filter(e=>"addition_alteration"===e.type).reduce((e,t)=>e+t.contractValue,0),averageDuration:60,completionRate:78}],byStatus:[{status:"planning",count:n.filter(e=>"planning"===e.status).length,totalValue:0},{status:"in_progress",count:s,totalValue:0},{status:"completed",count:o,totalValue:0},{status:"on_hold",count:n.filter(e=>"on_hold"===e.status).length,totalValue:0}],timeline:[{month:"2024-06",started:2,completed:1,value:75e4},{month:"2024-07",started:3,completed:2,value:12e5},{month:"2024-08",started:1,completed:1,value:48e4}]}},c=e=>{let t=JSON.parse(localStorage.getItem("ampere_clients")||"[]"),a=JSON.parse(localStorage.getItem("ampere_projects")||"[]"),r=JSON.parse(localStorage.getItem("ampere_invoices")||"[]"),n=JSON.parse(localStorage.getItem("ampere_payments")||"[]"),i=t.length,s=t.filter(e=>"active"===e.status).length,o=t.filter(t=>{let a=new Date(t.createdAt);return a>=e.dateRange.startDate&&a<=e.dateRange.endDate}).length,d=t.map(e=>{let t=a.filter(t=>t.clientId===e.id),i=r.filter(t=>t.clientId===e.id);n.filter(t=>{let a=r.find(e=>e.id===t.invoiceId);return a&&a.clientId===e.id});let s=t.reduce((e,t)=>e+t.contractValue,0),o=i.filter(e=>"paid"===e.status),d=o.length>0?o.reduce((e,t)=>{if(t.paidDate){let a=new Date(t.issueDate);return e+(new Date(t.paidDate).getTime()-a.getTime())/864e5}return e},0)/o.length:0,c=t.length>0?t.sort((e,t)=>new Date(t.startDate).getTime()-new Date(e.startDate).getTime())[0]:null;return{clientId:e.id,clientName:e.name,projectCount:t.length,totalValue:s,averagePaymentDays:d,lastProjectDate:new Date(c?c.startDate:e.createdAt),status:e.status,profitability:.15*s}}),c=d.reduce((e,t)=>e+t.totalValue,0)/(i||1),l=t.filter(e=>a.filter(t=>t.clientId===e.id).length>1).length/i*100;return{overview:{totalClients:i,activeClients:s,newClients:o,averageProjectValue:c,repeatClientRate:l},byClient:d,paymentAnalysis:{averagePaymentDays:d.reduce((e,t)=>e+t.averagePaymentDays,0)/(d.length||1),onTimePaymentRate:78,overdueAmount:342400,clientsWithOverdue:1},growth:[{month:"2024-06",newClients:1,revenue:64200,repeatBusinessRate:65},{month:"2024-07",newClients:0,revenue:0,repeatBusinessRate:70},{month:"2024-08",newClients:2,revenue:545700,repeatBusinessRate:75}]}},l=e=>{let t=JSON.parse(localStorage.getItem("ampere_vendors")||"[]"),a=JSON.parse(localStorage.getItem("ampere_projects")||"[]"),r=t.length,n=t.filter(e=>"active"===e.status).length,i=a.reduce((e,t)=>t.vendors&&t.vendors.length>0?e+t.vendors.reduce((e,t)=>e+(t.contractValue||0),0):e,0),s=t.reduce((e,t)=>e+t.rating,0)/(r||1);return{overview:{totalVendors:r,activeVendors:n,totalSpent:i,averageRating:s},byVendor:t.map(e=>({vendorId:e.id,vendorName:e.name,category:e.category,projectCount:e.projects?.length||0,totalValue:0,averageRating:e.rating,onTimeDeliveryRate:85,lastEngagementDate:new Date("2024-08-01")})),byCategory:[{category:"subcontractor",vendorCount:t.filter(e=>"subcontractor"===e.category).length,totalSpent:.6*i,averageRating:4.2},{category:"supplier",vendorCount:t.filter(e=>"supplier"===e.category).length,totalSpent:.3*i,averageRating:4.1},{category:"consultant",vendorCount:t.filter(e=>"consultant"===e.category).length,totalSpent:.1*i,averageRating:4.8}],performance:[{month:"2024-06",totalSpent:.3*i,vendorCount:n,averageRating:4.2},{month:"2024-07",totalSpent:.4*i,vendorCount:n,averageRating:4.3},{month:"2024-08",totalSpent:.3*i,vendorCount:n,averageRating:4.1}]}},u=e=>{let t=JSON.parse(localStorage.getItem("ampere_tenders")||"[]"),a=t.length,r=t.filter(e=>["submitted","under_evaluation","won","lost"].includes(e.status)).length,n=t.filter(e=>"won"===e.status).length,i=t.reduce((e,t)=>e+t.estimatedValue,0);return{overview:{totalTenders:a,submittedTenders:r,wonTenders:n,winRate:r>0?n/r*100:0,totalValue:i,averageTenderValue:a>0?i/a:0},byType:[{type:"open",submitted:5,won:2,winRate:40,totalValue:25e5},{type:"selective",submitted:3,won:2,winRate:67,totalValue:18e5},{type:"nominated",submitted:2,won:1,winRate:50,totalValue:75e4}],byStatus:[{status:"opportunity",count:t.filter(e=>"opportunity"===e.status).length,totalValue:0},{status:"preparing",count:t.filter(e=>"preparing"===e.status).length,totalValue:0},{status:"submitted",count:t.filter(e=>"submitted"===e.status).length,totalValue:0},{status:"won",count:n,totalValue:0},{status:"lost",count:t.filter(e=>"lost"===e.status).length,totalValue:0}],timeline:[{month:"2024-01",submitted:2,won:1,winRate:50,value:85e4},{month:"2024-02",submitted:1,won:0,winRate:0,value:0},{month:"2024-03",submitted:3,won:1,winRate:33,value:45e4}],competitorAnalysis:{averageCompetitors:4.2,winRateByCompetitorCount:[{competitorCount:2,winRate:75,tenderCount:2},{competitorCount:3,winRate:50,tenderCount:4},{competitorCount:5,winRate:25,tenderCount:6}]}}};return r.jsx(s.Provider,{value:{reports:t,getReport:e=>t.find(t=>t.id===e),generateReport:(e,r)=>{let n=(Math.max(...t.map(e=>parseInt(e.id)||0))+1).toString(),i={};switch(e){case"financial_summary":i=o(r);break;case"project_analytics":i=d(r);break;case"client_performance":i=c(r);break;case"vendor_analysis":i=l(r);break;case"tender_success":i=u(r);break;default:i={}}let s={id:n,title:`${e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())} - ${new Date().toLocaleDateString()}`,type:e,category:e.includes("financial")||e.includes("cash")||e.includes("profitability")?"financial":e.includes("project")||e.includes("vendor")?"operational":"analytics",description:`Generated ${e.replace("_"," ")} report`,status:"completed",generatedBy:"1",generatedAt:new Date,parameters:r,data:i};return a(e=>[...e,s]),s},updateReport:(e,t)=>(a(a=>{let r=a.findIndex(t=>t.id===e);if(-1===r)return a;let n={...a[r],...t},i=[...a];return i[r]=n,i}),!0),deleteReport:e=>(a(t=>t.filter(t=>t.id!==e)),!0),getReportsByCategory:e=>t.filter(t=>t.category===e),getRecentReports:(e=10)=>t.sort((e,t)=>new Date(t.generatedAt).getTime()-new Date(e.generatedAt).getTime()).slice(0,e),generateFinancialSummary:o,generateProjectAnalytics:d,generateClientPerformance:c,generateVendorAnalysis:l,generateTenderSuccess:u,refreshReportsData:()=>{try{let e=localStorage.getItem("ampere_reports");e?a(JSON.parse(e)):a(i.cl)}catch(e){console.error("Error refreshing reports data:",e),a(i.cl)}}},children:e})}},5729:(e,t,a)=>{"use strict";a.d(t,{SettingsProvider:()=>u,r:()=>s});var r=a(326),n=a(7577);let i=(0,n.createContext)(void 0),s=()=>{let e=(0,n.useContext)(i);if(void 0===e)throw Error("useSettings must be used within a SettingsProvider");return e},o=[{id:"1",value:"individual",label:"Individual",description:"Individual homeowners and private clients",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date},{id:"2",value:"corporate",label:"Corporate",description:"Business entities and corporations",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date},{id:"3",value:"government",label:"Government",description:"Government agencies and statutory boards",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date},{id:"4",value:"hdb",label:"HDB",description:"Housing Development Board",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date},{id:"5",value:"private_developer",label:"Private Developer",description:"Private property developers and real estate companies",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date}],d=[{id:"1",value:"electrical_works",label:"Electrical Works",description:"Electrical installation, wiring, and maintenance services",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date},{id:"2",value:"plumbing_sanitary",label:"Plumbing & Sanitary",description:"Plumbing installation, pipe fitting, and sanitary works",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date},{id:"3",value:"aircon_mechanical",label:"Air-conditioning & Mechanical",description:"HVAC systems, air-conditioning, and mechanical ventilation",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date},{id:"4",value:"fire_protection",label:"Fire Protection",description:"Fire alarm systems, sprinkler systems, and fire safety equipment",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date},{id:"5",value:"security_systems",label:"Security Systems",description:"CCTV, access control, alarm systems, and security equipment",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date},{id:"6",value:"building_automation",label:"Building Automation",description:"BMS, smart building systems, and automation controls",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date},{id:"7",value:"renewable_energy",label:"Renewable Energy",description:"Solar panels, energy storage systems, and green technology",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date},{id:"8",value:"structural_works",label:"Structural Works",description:"Structural engineering, reinforcement, and construction",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date}],c=[{id:"1",description:"Site Supervision (Daily Rate)",unit:"days",unitPrice:350,category:"Labour",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date},{id:"2",description:"Project Management (Monthly Rate)",unit:"months",unitPrice:8500,category:"Labour",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date},{id:"3",description:"Concrete Works",unit:"cubic meter",unitPrice:180,category:"Materials",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date},{id:"4",description:"Steel Reinforcement",unit:"kg",unitPrice:1.2,category:"Materials",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date},{id:"5",description:"Scaffolding Rental",unit:"sqm",unitPrice:8.5,category:"Equipment",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date},{id:"6",description:"Excavation Works",unit:"cubic meter",unitPrice:45,category:"Labour",isActive:!0,isDefault:!0,createdAt:new Date,updatedAt:new Date}],l={id:"1",companyInfo:{name:"Ampere Engineering Pte Ltd",registrationNumber:"201234567X",gstNumber:"201234567X",address:{street:"123 Engineering Road",building:"Tech Hub Building",unit:"#05-01",postalCode:"123456",district:"Central"},phone:"+65 6123 4567",email:"info@ampere.com.sg",website:"www.ampere.com.sg"},clientTypes:o,vendorSpecializations:d,frequentlyUsedItems:c,systemPreferences:{defaultCurrency:"SGD",defaultGSTRate:7,defaultPaymentTerms:30,dateFormat:"DD/MM/YYYY",timeZone:"Asia/Singapore",fiscalYearStart:"01-01",autoBackup:!0,maintenanceMode:!1},emailSettings:{smtpHost:"smtp.gmail.com",smtpPort:587,smtpUser:"system@ampere.com.sg",smtpPassword:"",fromEmail:"noreply@ampere.com.sg",fromName:"Ampere Engineering System",isEnabled:!1},notificationSettings:{emailNotifications:{newProjects:!0,projectUpdates:!0,invoiceGenerated:!0,paymentReceived:!0,quotationSent:!0,tenderDeadlines:!0},systemAlerts:{lowInventory:!0,projectDelays:!0,overdueInvoices:!0,permitExpiry:!0}},securitySettings:{passwordPolicy:{minLength:8,requireUppercase:!0,requireLowercase:!0,requireNumbers:!0,requireSpecialChars:!1,expiryDays:90},sessionTimeout:60,maxLoginAttempts:5,lockoutDuration:30,twoFactorAuth:!1},updatedAt:new Date,updatedBy:"1"},u=({children:e})=>{let[t,a]=(0,n.useState)(l);(0,n.useEffect)(()=>{try{let e=localStorage.getItem("ampere_settings");if(e){let t=JSON.parse(e);t&&(t.updatedAt=new Date(t.updatedAt),t.clientTypes=t.clientTypes.map(e=>({...e,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)})),t.vendorSpecializations?t.vendorSpecializations=t.vendorSpecializations.map(e=>({...e,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)})):t.vendorSpecializations=d,a(t))}}catch(e){console.error("Error loading settings from localStorage:",e),a(l)}},[]),(0,n.useEffect)(()=>{try{localStorage.setItem("ampere_settings",JSON.stringify(t))}catch(e){console.error("Error saving settings to localStorage:",e)}},[t]);let s=t?.clientTypes||o,u=t?.vendorSpecializations||d,m=t?.frequentlyUsedItems||c,p=e=>u.find(t=>t.id===e),g=()=>{let e=u.map(e=>parseInt(e.id)).filter(e=>!isNaN(e));return((e.length>0?Math.max(...e):0)+1).toString()},f=(e,t)=>(a(a=>{let r=a.vendorSpecializations.findIndex(t=>t.id===e);if(-1===r)return a;let n=[...a.vendorSpecializations];return n[r]={...n[r],...t,id:e,updatedAt:new Date},{...a,vendorSpecializations:n,updatedAt:new Date}}),!0),v=e=>m.find(t=>t.id===e),y=()=>{let e=m.map(e=>parseInt(e.id)).filter(e=>!isNaN(e));return((e.length>0?Math.max(...e):0)+1).toString()},A=(e,t)=>(a(a=>{let r=a.frequentlyUsedItems.findIndex(t=>t.id===e);if(-1===r)return a;let n=[...a.frequentlyUsedItems];return n[r]={...n[r],...t,id:e,updatedAt:new Date},{...a,frequentlyUsedItems:n,updatedAt:new Date}}),!0),D=e=>s.find(t=>t.id===e),w=()=>{let e=s.map(e=>parseInt(e.id)).filter(e=>!isNaN(e));return((e.length>0?Math.max(...e):0)+1).toString()},P=(e,t)=>(a(a=>{let r=a.clientTypes.findIndex(t=>t.id===e);if(-1===r)return a;let n=[...a.clientTypes];return n[r]={...n[r],...t,id:e,updatedAt:new Date},{...a,clientTypes:n,updatedAt:new Date}}),!0);return r.jsx(i.Provider,{value:{settings:t,clientTypes:s,getClientType:D,getActiveClientTypes:()=>s.filter(e=>e.isActive),addClientType:e=>{let t={...e,id:w(),createdAt:new Date,updatedAt:new Date};return a(e=>({...e,clientTypes:[...e.clientTypes,t],updatedAt:new Date})),t},updateClientType:P,deleteClientType:e=>{let t=D(e);return t?.isDefault?(console.warn("Cannot delete default client types"),!1):(a(t=>({...t,clientTypes:t.clientTypes.filter(t=>t.id!==e),updatedAt:new Date})),!0)},toggleClientTypeStatus:e=>{let t=D(e);return!!t&&P(e,{isActive:!t.isActive})},vendorSpecializations:u,getVendorSpecialization:p,getActiveVendorSpecializations:()=>u.filter(e=>e.isActive),addVendorSpecialization:e=>{let t={...e,id:g(),createdAt:new Date,updatedAt:new Date};return a(e=>({...e,vendorSpecializations:[...e.vendorSpecializations,t],updatedAt:new Date})),t},updateVendorSpecialization:f,deleteVendorSpecialization:e=>{let t=p(e);return t?.isDefault?(console.warn("Cannot delete default vendor specializations"),!1):(a(t=>({...t,vendorSpecializations:t.vendorSpecializations.filter(t=>t.id!==e),updatedAt:new Date})),!0)},toggleVendorSpecializationStatus:e=>{let t=p(e);return!!t&&f(e,{isActive:!t.isActive})},frequentlyUsedItems:m,getFrequentlyUsedItem:v,getActiveFrequentlyUsedItems:()=>m.filter(e=>e.isActive),addFrequentlyUsedItem:e=>{let t={...e,id:y(),createdAt:new Date,updatedAt:new Date};return a(e=>({...e,frequentlyUsedItems:[...e.frequentlyUsedItems,t],updatedAt:new Date})),t},updateFrequentlyUsedItem:A,deleteFrequentlyUsedItem:e=>{let t=v(e);return t?.isDefault?(console.warn("Cannot delete default frequently used items"),!1):(a(t=>({...t,frequentlyUsedItems:t.frequentlyUsedItems.filter(t=>t.id!==e),updatedAt:new Date})),!0)},toggleFrequentlyUsedItemStatus:e=>{let t=v(e);return!!t&&A(e,{isActive:!t.isActive})},updateCompanyInfo:e=>{if(!t)return!1;let r={...t,companyInfo:e,updatedAt:new Date,updatedBy:"current_user_id"};return a(r),saveSettingsToStorage(r),!0},updateSystemPreferences:e=>{if(!t)return!1;let r={...t,systemPreferences:e,updatedAt:new Date,updatedBy:"current_user_id"};return a(r),saveSettingsToStorage(r),!0},updateEmailSettings:e=>{if(!t)return!1;let r={...t,emailSettings:e,updatedAt:new Date,updatedBy:"current_user_id"};return a(r),saveSettingsToStorage(r),!0},updateNotificationSettings:e=>{if(!t)return!1;let r={...t,notificationSettings:e,updatedAt:new Date,updatedBy:"current_user_id"};return a(r),saveSettingsToStorage(r),!0},updateSecuritySettings:e=>{if(!t)return!1;let r={...t,securitySettings:e,updatedAt:new Date,updatedBy:"current_user_id"};return a(r),saveSettingsToStorage(r),!0},updateXeroSettings:e=>{if(!t)return!1;let r={...t,xeroSettings:{...t.xeroSettings,...e},updatedAt:new Date,updatedBy:"current_user_id"};return a(r),saveSettingsToStorage(r),!0},refreshSettings:()=>{try{let e=localStorage.getItem("ampere_settings");e?a(JSON.parse(e)):a(l)}catch(e){console.error("Error refreshing settings:",e),a(l)}},exportSettings:()=>t?JSON.stringify(t,null,2):"",importSettings:e=>{try{let t=JSON.parse(e);return a(t),saveSettingsToStorage(t),!0}catch(e){return console.error("Error importing settings:",e),!1}}},children:e})}},4396:(e,t,a)=>{"use strict";a.d(t,{TenderProvider:()=>l,i:()=>c});var r=a(326),n=a(7577),i=a(1902),s=a(4471),o=a(827);let d=(0,n.createContext)(void 0),c=()=>{let e=(0,n.useContext)(d);if(void 0===e)throw Error("useTenders must be used within a TenderProvider");return e},l=({children:e})=>{let[t,a]=(0,n.useState)(i.m6),{user:c}=(0,s.a)(),l=(0,o.v)();(0,n.useEffect)(()=>{try{let e=localStorage.getItem("ampere_tenders");if(e){let t=JSON.parse(e);Array.isArray(t)&&t.length>0&&a(t)}}catch(e){console.error("Error loading tenders from localStorage:",e),a(i.m6)}},[]),(0,n.useEffect)(()=>{try{localStorage.setItem("ampere_tenders",JSON.stringify(t))}catch(e){console.error("Error saving tenders to localStorage:",e)}},[t]);let u=e=>t.find(t=>t.id===e),m=(e,t)=>{let r=u(e);if(a(a=>{let r=a.findIndex(t=>t.id===e);if(-1===r)return a;let n={...a[r],...t,updatedAt:new Date},i=[...a];return i[r]=n,i}),c&&r){let a={...r,...t};l.addAuditLog((0,o.U)("UPDATE","TENDER",e,c,{entityName:r.title,oldData:r,newData:a,details:`Updated tender: ${r.title}`,excludeFields:["updatedAt","documents"]}))}return!0},p=()=>`DOC-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;return r.jsx(d.Provider,{value:{tenders:t,getTender:u,addTender:e=>{let r={id:(Math.max(...t.map(e=>parseInt(e.id)||0))+1).toString(),title:e.title||"",clientId:e.clientId||"",type:e.type||"open",status:e.status||"opportunity",description:e.description||"",location:e.location||{street:"",postalCode:"",district:""},estimatedValue:e.estimatedValue||0,submissionDeadline:e.submissionDeadline||new Date,startDate:e.startDate,completionDate:e.completionDate,requirements:e.requirements||[],documents:e.documents||[],ourQuotation:e.ourQuotation,competitorCount:e.competitorCount||0,winProbability:e.winProbability||50,assignedTo:e.assignedTo||"",createdAt:new Date,updatedAt:new Date,...e};return a(e=>[...e,r]),r},updateTender:m,deleteTender:e=>{let t=u(e);return!!t&&(a(t=>t.filter(t=>t.id!==e)),c&&l.addAuditLog((0,o.U)("DELETE","TENDER",e,c,{entityName:t.title,details:`Deleted tender: ${t.title}`})),!0)},refreshTenders:()=>{try{let e=localStorage.getItem("ampere_tenders");e?a(JSON.parse(e)):a(i.m6)}catch(e){console.error("Error refreshing tenders:",e),a(i.m6)}},addDocumentsToTender:(e,t)=>{let a=u(e);if(!a)return!1;let r=t.map(t=>({id:p(),name:t.name||"",type:t.type||"other",size:t.size||0,uploadedBy:t.uploadedBy||c?.id||"",uploadedAt:t.uploadedAt||new Date,url:t.url||"#",tenderId:e,isConfidential:t.isConfidential||!1,...t}));return m(e,{documents:[...a.documents||[],...r]}),c&&r.forEach(t=>{l.addAuditLog((0,o.U)("CREATE","TENDER",e,c,{entityName:a.title,details:`Uploaded document "${t.name}" to tender: ${a.title}`}))}),!0},removeDocumentFromTender:(e,t)=>{let a=u(e);if(!a||!a.documents)return!1;let r=a.documents.find(e=>e.id===t);return!!r&&(m(e,{documents:a.documents.filter(e=>e.id!==t)}),c&&l.addAuditLog((0,o.U)("DELETE","TENDER",e,c,{entityName:a.title,details:`Removed document "${r.name}" from tender: ${a.title}`})),!0)},updateTenderDocument:(e,t,a)=>{let r=u(e);if(!r||!r.documents)return!1;let n=r.documents.findIndex(e=>e.id===t);if(-1===n)return!1;let i=r.documents[n],s=[...r.documents];return s[n]={...i,...a},m(e,{documents:s}),c&&l.addAuditLog((0,o.U)("UPDATE","TENDER",e,c,{entityName:r.title,details:`Updated document "${i.name}" in tender: ${r.title}`})),!0},getTenderDocuments:e=>{let t=u(e);return t?.documents||[]}},children:e})}},2588:(e,t,a)=>{"use strict";a.d(t,{U:()=>o,UserProvider:()=>d});var r=a(326),n=a(7577),i=a(1902);let s=(0,n.createContext)(void 0),o=()=>{let e=(0,n.useContext)(s);if(void 0===e)throw Error("useUsers must be used within a UserProvider");return e},d=({children:e})=>{let[t,a]=(0,n.useState)(i.bs);return(0,n.useEffect)(()=>{try{let e=localStorage.getItem("ampere_users");if(e){let t=JSON.parse(e);Array.isArray(t)&&t.length>0&&a(t)}}catch(e){console.error("Error loading users from localStorage:",e),a(i.bs)}},[]),(0,n.useEffect)(()=>{try{localStorage.setItem("ampere_users",JSON.stringify(t))}catch(e){console.error("Error saving users to localStorage:",e)}},[t]),r.jsx(s.Provider,{value:{users:t,getUser:e=>t.find(t=>t.id===e),refreshUsers:()=>{try{let e=localStorage.getItem("ampere_users");e?a(JSON.parse(e)):a(i.bs)}catch(e){console.error("Error refreshing users:",e),a(i.bs)}}},children:e})}},9982:(e,t,a)=>{"use strict";a.d(t,{R:()=>d,VendorProvider:()=>c});var r=a(326),n=a(7577),i=a(1902),s=a(808);let o=(0,n.createContext)(void 0),d=()=>{let e=(0,n.useContext)(o);if(void 0===e)throw Error("useVendors must be used within a VendorProvider");return e},c=({children:e})=>{let[t,a]=(0,n.useState)(i.fR);(0,n.useEffect)(()=>{try{let e=localStorage.getItem("ampere_vendors");if(e){let t=JSON.parse(e);if(Array.isArray(t)&&t.length>0){let e=d(t);a(e)}}else{let e=d(i.fR);a(e)}}catch(e){console.error("Error loading vendors from localStorage:",e),a(d(i.fR))}},[]);let d=e=>{let t=[],a=1;return e.forEach(e=>{if(e.vendorCode){t.push(e);let r=c(e.vendorCode);r>=a&&(a=r+1)}else{let r=a.toString().padStart(3,"0"),n=`AMP-V-${r}`;t.push({...e,vendorCode:n}),a++}}),t},c=e=>{let t=e.match(/AMP-V-(\d+)/);return t?parseInt(t[1],10):0};return(0,n.useEffect)(()=>{try{localStorage.setItem("ampere_vendors",JSON.stringify(t))}catch(e){console.error("Error saving vendors to localStorage:",e)}},[t]),r.jsx(o.Provider,{value:{vendors:t,getVendor:e=>t.find(t=>t.id===e),addVendor:e=>{let r={id:(Math.max(...t.map(e=>parseInt(e.id)||0))+1).toString(),vendorCode:(0,s.v1)(t),name:e.name||"",category:e.category||"supplier",contactPerson:e.contactPerson||"",email:e.email||"",phone:e.phone||"",address:e.address||{street:"",postalCode:"",district:""},registrationNumber:e.registrationNumber||"",gstNumber:e.gstNumber,rating:e.rating||0,certifications:e.certifications||[],specializations:e.specializations||[],paymentTerms:e.paymentTerms||30,status:e.status||"active",projects:[],createdAt:new Date,...e};return a(e=>[...e,r]),r},updateVendor:(e,t)=>(a(a=>{let r=a.findIndex(t=>t.id===e);if(-1===r)return a;let n={...a[r],...t},i=[...a];return i[r]=n,i}),!0),deleteVendor:e=>(a(t=>t.filter(t=>t.id!==e)),!0),refreshVendors:()=>{try{let e=localStorage.getItem("ampere_vendors");e?a(JSON.parse(e)):a(i.fR)}catch(e){console.error("Error refreshing vendors:",e),a(i.fR)}}},children:e})}},8995:(e,t,a)=>{"use strict";function r(e){let t="AMP-C-",a=e.map(e=>e.clientCode).filter(e=>e&&e.startsWith(t)).map(e=>parseInt(e.replace(t,""),10)).filter(e=>!isNaN(e)),r=((a.length>0?Math.max(...a):0)+1).toString().padStart(3,"0");return`${t}${r}`}a.d(t,{gE:()=>r})},1902:(e,t,a)=>{"use strict";a.d(t,{C7:()=>d,Ep:()=>u,L$:()=>c,ZQ:()=>s,bs:()=>n,cl:()=>p,fR:()=>l,kG:()=>m,m6:()=>o,s$:()=>i});var r=a(5342);let n=[{id:"1",name:"John Tan",email:"john.tan@ampere.com.sg",role:"super_admin",avatar:"/avatars/john.jpg",isActive:!0,createdAt:new Date("2023-01-15"),lastLogin:new Date("2024-08-22T08:30:00"),permissions:r.lR.super_admin,assignedProjects:[],department:"Management"},{id:"6",name:"Zack",email:"zack@ampere.com.sg",role:"super_admin",isActive:!0,createdAt:new Date("2024-08-22"),lastLogin:new Date("2024-08-22T10:00:00"),permissions:r.lR.super_admin,assignedProjects:[],department:"Management"},{id:"2",name:"Sarah Lim",email:"sarah.lim@ampere.com.sg",role:"admin",isActive:!0,createdAt:new Date("2023-02-01"),lastLogin:new Date("2024-08-22T09:15:00"),permissions:r.lR.admin,assignedProjects:[],department:"Operations"},{id:"3",name:"David Wong",email:"david.wong@ampere.com.sg",role:"projects",isActive:!0,createdAt:new Date("2023-03-10"),lastLogin:new Date("2024-08-21T16:45:00"),permissions:r.lR.projects,assignedProjects:["1","2","3"],department:"Project Management"},{id:"4",name:"Michelle Chen",email:"michelle.chen@ampere.com.sg",role:"finance",isActive:!0,createdAt:new Date("2023-04-05"),lastLogin:new Date("2024-08-22T07:20:00"),permissions:r.lR.finance,assignedProjects:[],department:"Finance"},{id:"5",name:"Robert Kumar",email:"robert.kumar@ampere.com.sg",role:"sales",isActive:!0,createdAt:new Date("2023-05-20"),lastLogin:new Date("2024-08-21T18:30:00"),permissions:r.lR.sales,assignedProjects:[],department:"Sales & Marketing"}],i=[{id:"1",clientCode:"AMP-C-001",name:"Marina Bay Residences",type:"private_developer",contactPerson:"Alex Ng",email:"alex.ng@marinabay.com.sg",phone:"+65 6234 5678",address:{street:"10 Marina Boulevard",building:"Marina Bay Financial Centre",unit:"#25-01",postalCode:"018983",district:"Downtown Core"},registrationNumber:"201234567K",gstNumber:"201234567K",creditLimit:5e5,paymentTerms:30,status:"active",projects:["1","2"],createdAt:new Date("2023-06-15"),notes:"Premium developer, excellent payment record"},{id:"2",clientCode:"AMP-C-002",name:"HDB Jurong Point",type:"government",contactPerson:"Jennifer Teo",email:"jennifer.teo@hdb.gov.sg",phone:"+65 6490 1234",address:{street:"480 Lorong 6 Toa Payoh",building:"HDB Hub",unit:"East Wing #06-01",postalCode:"310480",district:"Toa Payoh"},registrationNumber:"HDB001",paymentTerms:45,status:"active",projects:["3"],createdAt:new Date("2023-07-20")},{id:"3",clientCode:"AMP-C-003",name:"Golden Dragon Restaurant",type:"corporate",contactPerson:"Peter Lim",email:"peter@goldendragon.sg",phone:"+65 6234 8899",address:{street:"123 Orchard Road",building:"Orchard Shopping Centre",unit:"#03-15",postalCode:"238858",district:"Orchard"},registrationNumber:"202345678M",gstNumber:"202345678M",creditLimit:15e4,paymentTerms:14,status:"active",projects:["4"],createdAt:new Date("2023-08-10")}],s=[{id:"1",name:"Marina Bay Condo A&A Works",clientId:"1",type:"addition_alteration",status:"in_progress",description:"Addition and alteration works for luxury condominium units including kitchen renovation and bathroom upgrades",location:{street:"10 Marina Boulevard",building:"Marina Bay Residences",unit:"Various units",postalCode:"018983",district:"Downtown Core"},contractValue:45e4,estimatedCost:38e4,actualCost:285e3,startDate:new Date("2024-06-01"),expectedEndDate:new Date("2024-10-15"),projectManager:"3",team:["3","2"],permits:[],milestones:[],vendors:[],documents:[],createdAt:new Date("2024-05-15"),updatedAt:new Date("2024-08-20")},{id:"2",name:"Marina Bay Office Fitout",clientId:"1",type:"renovation",status:"planning",description:"Complete office renovation and fitout for Grade A office space",location:{street:"10 Marina Boulevard",building:"Marina Bay Financial Centre",unit:"#25-01",postalCode:"018983",district:"Downtown Core"},contractValue:28e4,estimatedCost:235e3,startDate:new Date("2024-09-01"),expectedEndDate:new Date("2024-12-31"),projectManager:"3",team:["3"],permits:[],milestones:[],vendors:[],documents:[],createdAt:new Date("2024-07-01"),updatedAt:new Date("2024-08-15")},{id:"3",name:"HDB Void Deck Upgrading",clientId:"2",type:"renovation",status:"permit_application",description:"Upgrading of void deck facilities including flooring, lighting, and seating areas",location:{street:"Block 123 Jurong East Street 13",postalCode:"600123",district:"Jurong East"},contractValue:85e3,estimatedCost:72e3,startDate:new Date("2024-10-01"),expectedEndDate:new Date("2024-12-15"),projectManager:"3",team:["3"],permits:[],milestones:[],vendors:[],documents:[],createdAt:new Date("2024-08-01"),updatedAt:new Date("2024-08-20")},{id:"4",name:"Restaurant Kitchen Renovation",clientId:"3",type:"renovation",status:"completed",description:"Complete kitchen renovation including equipment installation and compliance upgrades",location:{street:"123 Orchard Road",building:"Orchard Shopping Centre",unit:"#03-15",postalCode:"238858",district:"Orchard"},contractValue:12e4,estimatedCost:95e3,actualCost:98e3,startDate:new Date("2024-03-01"),expectedEndDate:new Date("2024-05-31"),actualEndDate:new Date("2024-06-05"),projectManager:"3",team:["3","2"],permits:[],milestones:[],vendors:[],documents:[],createdAt:new Date("2024-02-15"),updatedAt:new Date("2024-06-05")}],o=[{id:"1",title:"Sentosa Resort Hotel Renovation",clientId:"1",type:"selective",status:"preparing",description:"Major renovation works for 200-room luxury resort including guest rooms, lobby, and recreational facilities",location:{street:"Sentosa Island",building:"Resort World Sentosa",postalCode:"098138",district:"Sentosa"},estimatedValue:25e5,submissionDeadline:new Date("2024-09-30"),startDate:new Date("2025-01-15"),completionDate:new Date("2025-08-31"),requirements:["BCA Grade A1 License","Minimum 5 years hotel renovation experience","ISO 9001 certification","Minimum project capacity of $3M"],documents:[],competitorCount:8,winProbability:65,assignedTo:"5",createdAt:new Date("2024-08-10"),updatedAt:new Date("2024-08-20")},{id:"2",title:"Office Tower Upgrade - CBD",clientId:"2",type:"open",status:"submitted",description:"Upgrade works for 30-storey office building including lift modernization, ACMV system upgrade, and common area renovation",location:{street:"1 Raffles Place",building:"One Raffles Place",postalCode:"048616",district:"Downtown Core"},estimatedValue:18e5,submissionDeadline:new Date("2024-08-25"),startDate:new Date("2024-11-01"),completionDate:new Date("2025-05-31"),requirements:["BCA Grade A1 License","ACMV specialist certification","Minimum $2M project insurance"],documents:[],ourQuotation:"1",competitorCount:12,winProbability:45,assignedTo:"5",createdAt:new Date("2024-07-15"),updatedAt:new Date("2024-08-22")}],d=[{id:"1",clientId:"2",tenderId:"2",quotationNumber:"AMP-202408-001",title:"Office Tower Upgrade - CBD",description:"Quotation for comprehensive office building upgrade works",status:"sent",validUntil:new Date("2024-09-25"),items:[{id:"1",description:"Lift modernization (6 passenger lifts)",quantity:6,unit:"units",unitPrice:85e3,totalPrice:51e4,category:"Mechanical Works"},{id:"2",description:"ACMV system upgrade",quantity:1,unit:"lot",unitPrice:65e4,totalPrice:65e4,category:"ACMV Works"},{id:"3",description:"Common area renovation",quantity:2500,unit:"sqm",unitPrice:280,totalPrice:7e5,category:"Renovation Works"}],subtotal:186e4,gst:130200,totalAmount:1990200,terms:["Prices valid for 30 days","Payment terms: 30 days from invoice date","Work completion: 6 months from commencement","All materials comply with Singapore standards"],preparedBy:"5",approvedBy:"2",sentDate:new Date("2024-08-22"),createdAt:new Date("2024-08-20"),updatedAt:new Date("2024-08-22")},{id:"2",clientId:"3",quotationNumber:"AMP-202408-002",title:"Restaurant Kitchen Equipment Installation",description:"Supply and installation of commercial kitchen equipment",status:"accepted",validUntil:new Date("2024-09-15"),items:[{id:"1",description:"Commercial gas stove (6-burner)",quantity:2,unit:"units",unitPrice:8500,totalPrice:17e3,category:"Kitchen Equipment"},{id:"2",description:"Industrial refrigeration system",quantity:1,unit:"set",unitPrice:25e3,totalPrice:25e3,category:"Refrigeration"},{id:"3",description:"Exhaust hood and ventilation",quantity:1,unit:"set",unitPrice:18e3,totalPrice:18e3,category:"Ventilation"}],subtotal:6e4,gst:4200,totalAmount:64200,terms:["Prices valid for 14 days","Payment: 50% upon order, 50% upon completion","Installation within 3 weeks","1-year warranty on all equipment"],preparedBy:"5",approvedBy:"2",sentDate:new Date("2024-08-15"),createdAt:new Date("2024-08-12"),updatedAt:new Date("2024-08-18")}],c={projects:{total:15,active:8,completed:6,delayed:1},finance:{totalRevenue:245e4,outstandingInvoices:185e3,profitMargin:18.5,cashFlow:425e3},tenders:{active:12,submitted:5,winRate:42,averageValue:85e4},clients:{total:28,active:24,new:3}},l=[{id:"1",vendorCode:"AMP-V-001",name:"Singapore Steel Works Pte Ltd",category:"supplier",contactPerson:"Rajesh Kumar",email:"rajesh@sgsteel.com.sg",phone:"+65 6234 5678",address:{street:"25 Tuas South Street 1",postalCode:"637601",district:"Tuas"},registrationNumber:"199812345A",gstNumber:"199812345A",rating:4.2,certifications:["ISO 9001","BCA Approved Supplier"],specializations:["Structural Steel","Reinforcement Bars","Metal Fabrication"],paymentTerms:30,status:"active",projects:["1","2"],createdAt:new Date("2020-03-15")},{id:"2",vendorCode:"AMP-V-002",name:"Elite Renovation Specialists",category:"subcontractor",contactPerson:"Vincent Tan",email:"vincent@elitereno.sg",phone:"+65 9876 5432",address:{street:"15 Kaki Bukit Road 1",building:"Kaki Bukit TechHub",unit:"#04-08",postalCode:"415934",district:"Bedok"},registrationNumber:"202145678B",gstNumber:"202145678B",rating:4.7,certifications:["BCA Grade L5","CONQUAS Certified"],specializations:["Interior Renovation","Bathroom Upgrade","Kitchen Renovation"],paymentTerms:21,status:"active",projects:["1","3","4"],createdAt:new Date("2021-08-20")},{id:"3",vendorCode:"AMP-V-003",name:"ProBuild Engineering Solutions",category:"consultant",contactPerson:"Dr. Sarah Wong",email:"sarah.wong@probuild.sg",phone:"+65 6789 1234",address:{street:"50 Science Park Road",building:"The Kendall",unit:"#12-01",postalCode:"117406",district:"Queenstown"},registrationNumber:"202298765C",gstNumber:"202298765C",rating:4.9,certifications:["ISO 9001","ISO 14001","PE Singapore"],specializations:["Structural Engineering","Project Management","Building Assessment"],paymentTerms:14,status:"active",projects:["2"],createdAt:new Date("2022-05-10")}],u=[{id:"1",invoiceNumber:"AMP-INV-202408-001",clientId:"1",projectId:"1",quotationId:"1",amount:186e4,gstAmount:130200,totalAmount:1990200,status:"sent",issueDate:new Date("2024-08-25"),dueDate:new Date("2024-09-24"),createdAt:new Date("2024-08-25")},{id:"2",invoiceNumber:"AMP-INV-202408-002",clientId:"3",projectId:"4",quotationId:"2",amount:6e4,gstAmount:4200,totalAmount:64200,status:"paid",issueDate:new Date("2024-08-16"),dueDate:new Date("2024-08-30"),paidDate:new Date("2024-08-28"),paymentMethod:"bank_transfer",createdAt:new Date("2024-08-16")},{id:"3",invoiceNumber:"AMP-INV-202407-003",clientId:"2",projectId:"2",amount:32e4,gstAmount:22400,totalAmount:342400,status:"overdue",issueDate:new Date("2024-07-15"),dueDate:new Date("2024-08-14"),createdAt:new Date("2024-07-15")},{id:"4",invoiceNumber:"AMP-INV-202408-004",clientId:"1",projectId:"1",amount:45e4,gstAmount:31500,totalAmount:481500,status:"paid",issueDate:new Date("2024-08-10"),dueDate:new Date("2024-09-09"),paidDate:new Date("2024-09-05"),paymentMethod:"bank_transfer",createdAt:new Date("2024-08-10")},{id:"5",invoiceNumber:"AMP-INV-202408-005",clientId:"4",amount:185e3,gstAmount:12950,totalAmount:197950,status:"draft",issueDate:new Date("2024-08-22"),dueDate:new Date("2024-09-21"),createdAt:new Date("2024-08-22")}],m=[{id:"1",invoiceId:"2",amount:64200,method:"bank_transfer",reference:"TXN-20240828-001",receivedDate:new Date("2024-08-28"),notes:"Full payment received via bank transfer"},{id:"2",invoiceId:"4",amount:481500,method:"bank_transfer",reference:"TXN-20240905-002",receivedDate:new Date("2024-09-05"),notes:"Payment received ahead of schedule"},{id:"3",invoiceId:"4",amount:1e5,method:"bank_transfer",reference:"TXN-20240820-003",receivedDate:new Date("2024-08-20"),notes:"Partial payment - progress billing"},{id:"4",invoiceId:"1",amount:5e5,method:"cheque",reference:"CHQ-20240830-001",receivedDate:new Date("2024-08-30"),notes:"Partial payment via company cheque"}],p=[{id:"1",title:"Q3 2024 Financial Summary",type:"financial_summary",category:"financial",description:"Comprehensive financial overview for Q3 2024 including revenue, expenses, and profitability analysis",status:"completed",generatedBy:"4",generatedAt:new Date("2024-08-22T09:30:00"),parameters:{dateRange:{startDate:new Date("2024-07-01"),endDate:new Date("2024-09-30")},filters:{},groupBy:"month",includeGST:!0},data:{}},{id:"2",title:"Project Performance Analytics - August 2024",type:"project_analytics",category:"operational",description:"Analysis of project performance, completion rates, and budget variance for August 2024",status:"completed",generatedBy:"3",generatedAt:new Date("2024-08-20T14:15:00"),parameters:{dateRange:{startDate:new Date("2024-08-01"),endDate:new Date("2024-08-31")},filters:{projectStatuses:["in_progress","completed"]},groupBy:"project"},data:{}},{id:"3",title:"Client Performance Review - YTD 2024",type:"client_performance",category:"analytics",description:"Year-to-date analysis of client performance, payment patterns, and relationship metrics",status:"completed",generatedBy:"5",generatedAt:new Date("2024-08-18T11:45:00"),parameters:{dateRange:{startDate:new Date("2024-01-01"),endDate:new Date("2024-08-31")},filters:{},groupBy:"client"},data:{}},{id:"4",title:"Vendor Analysis Report - Q3 2024",type:"vendor_analysis",category:"operational",description:"Comprehensive vendor performance analysis including ratings, delivery times, and cost efficiency",status:"completed",generatedBy:"3",generatedAt:new Date("2024-08-15T16:20:00"),parameters:{dateRange:{startDate:new Date("2024-07-01"),endDate:new Date("2024-09-30")},filters:{},groupBy:"vendor"},data:{}},{id:"5",title:"Tender Success Analysis - H1 2024",type:"tender_success",category:"analytics",description:"Analysis of tender submission success rates, win rates, and competitive positioning for first half of 2024",status:"completed",generatedBy:"5",generatedAt:new Date("2024-08-10T10:30:00"),parameters:{dateRange:{startDate:new Date("2024-01-01"),endDate:new Date("2024-06-30")},filters:{projectTypes:["renovation","addition_alteration"]},groupBy:"month"},data:{}},{id:"6",title:"Cash Flow Analysis - August 2024",type:"cash_flow",category:"financial",description:"Monthly cash flow analysis including inflows, outflows, and outstanding receivables",status:"completed",generatedBy:"4",generatedAt:new Date("2024-08-25T13:15:00"),parameters:{dateRange:{startDate:new Date("2024-08-01"),endDate:new Date("2024-08-31")},filters:{},includeGST:!0},data:{}},{id:"7",title:"Project Profitability Report - YTD 2024",type:"profitability",category:"financial",description:"Year-to-date profitability analysis by project, client, and project type",status:"generating",generatedBy:"2",generatedAt:new Date("2024-08-22T15:45:00"),parameters:{dateRange:{startDate:new Date("2024-01-01"),endDate:new Date("2024-08-31")},filters:{},groupBy:"project",includeGST:!0},data:{}},{id:"8",title:"Accounts Receivable Aging Report",type:"aging_report",category:"financial",description:"Analysis of outstanding invoices by aging periods for better cash flow management",status:"completed",generatedBy:"4",generatedAt:new Date("2024-08-21T08:30:00"),parameters:{dateRange:{startDate:new Date("2024-01-01"),endDate:new Date("2024-08-31")},filters:{invoiceStatuses:["sent","overdue"]},includeGST:!0},data:{}}]},808:(e,t,a)=>{"use strict";function r(e){let t="AMP-V-",a=e.map(e=>e.vendorCode).filter(e=>e&&e.startsWith(t)).map(e=>parseInt(e.replace(t,""),10)).filter(e=>!isNaN(e)),r=((a.length>0?Math.max(...a):0)+1).toString().padStart(3,"0");return`${t}${r}`}a.d(t,{v1:()=>r})},5342:(e,t,a)=>{"use strict";a.d(t,{lR:()=>r});let r={super_admin:{finance:{canViewFinance:!0,canEditInvoices:!0,canDeleteInvoices:!0,canViewReports:!0,canManagePayments:!0},projects:{canViewAllProjects:!0,canEditAssignedProjects:!0,canCreateProjects:!0,canDeleteProjects:!0,canManageTeam:!0},clients:{canViewClients:!0,canEditClients:!0,canCreateClients:!0,canDeleteClients:!0},system:{canManageUsers:!0,canViewAuditLogs:!0,canManageSettings:!0,canViewReports:!0}},admin:{finance:{canViewFinance:!0,canEditInvoices:!1,canDeleteInvoices:!1,canViewReports:!0,canManagePayments:!1},projects:{canViewAllProjects:!0,canEditAssignedProjects:!0,canCreateProjects:!0,canDeleteProjects:!1,canManageTeam:!0},clients:{canViewClients:!0,canEditClients:!0,canCreateClients:!0,canDeleteClients:!1},system:{canManageUsers:!0,canViewAuditLogs:!1,canManageSettings:!0,canViewReports:!0}},finance:{finance:{canViewFinance:!0,canEditInvoices:!0,canDeleteInvoices:!1,canViewReports:!0,canManagePayments:!0},projects:{canViewAllProjects:!1,canEditAssignedProjects:!1,canCreateProjects:!1,canDeleteProjects:!1,canManageTeam:!1},clients:{canViewClients:!0,canEditClients:!1,canCreateClients:!1,canDeleteClients:!1},system:{canManageUsers:!1,canViewAuditLogs:!1,canManageSettings:!1,canViewReports:!0}},projects:{finance:{canViewFinance:!1,canEditInvoices:!1,canDeleteInvoices:!1,canViewReports:!1,canManagePayments:!1},projects:{canViewAllProjects:!1,canEditAssignedProjects:!0,canCreateProjects:!1,canDeleteProjects:!1,canManageTeam:!1},clients:{canViewClients:!0,canEditClients:!1,canCreateClients:!1,canDeleteClients:!1},system:{canManageUsers:!1,canViewAuditLogs:!1,canManageSettings:!1,canViewReports:!1}},sales:{finance:{canViewFinance:!1,canEditInvoices:!1,canDeleteInvoices:!1,canViewReports:!1,canManagePayments:!1},projects:{canViewAllProjects:!1,canEditAssignedProjects:!1,canCreateProjects:!1,canDeleteProjects:!1,canManageTeam:!1},clients:{canViewClients:!0,canEditClients:!0,canCreateClients:!0,canDeleteClients:!1},system:{canManageUsers:!1,canViewAuditLogs:!1,canManageSettings:!1,canViewReports:!1}}}},5967:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w,metadata:()=>D});var r=a(9510),n=a(5384),i=a.n(n),s=a(8570);(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\AuthContext.tsx#useAuth`);let o=(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\AuthContext.tsx#AuthProvider`);(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\AuthContext.tsx#DEMO_CREDENTIALS`),(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\ClientContext.tsx#useClients`);let d=(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\ClientContext.tsx#ClientProvider`);(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\VendorContext.tsx#useVendors`);let c=(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\VendorContext.tsx#VendorProvider`);(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\ProjectContext.tsx#useProjects`);let l=(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\ProjectContext.tsx#ProjectProvider`);(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\TenderContext.tsx#useTenders`);let u=(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\TenderContext.tsx#TenderProvider`);(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\QuotationContext.tsx#useQuotations`);let m=(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\QuotationContext.tsx#QuotationProvider`);(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\FinanceContext.tsx#useFinance`);let p=(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\FinanceContext.tsx#FinanceProvider`);(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\ReportsContext.tsx#useReports`);let g=(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\ReportsContext.tsx#ReportsProvider`);(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\UserContext.tsx#useUsers`);let f=(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\UserContext.tsx#UserProvider`);(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\SettingsContext.tsx#useSettings`);let v=(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\SettingsContext.tsx#SettingsProvider`);(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\AuditLogContext.tsx#useAuditLog`);let y=(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\AuditLogContext.tsx#AuditLogProvider`);(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\AuditLogContext.tsx#createAuditLog`),(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\PurchaseOrderContext.tsx#usePurchaseOrders`);let A=(0,s.createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\contexts\PurchaseOrderContext.tsx#PurchaseOrderProvider`);a(5023);let D={title:"Ampere Engineering - Project Management System",description:"Comprehensive project management system for Ampere Engineering Pte Ltd - Managing renovation, A&A and reinstatement projects in Singapore",keywords:"construction, renovation, singapore, project management, A&A, reinstatement, contracting"};function w({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:i().className,children:r.jsx(y,{children:r.jsx(o,{children:r.jsx(v,{children:r.jsx(f,{children:r.jsx(d,{children:r.jsx(c,{children:r.jsx(l,{children:r.jsx(u,{children:r.jsx(m,{children:r.jsx(p,{children:r.jsx(A,{children:r.jsx(g,{children:r.jsx("div",{id:"root",className:"min-h-screen bg-gray-50",children:e})})})})})})})})})})})})})})})}},5023:()=>{}};