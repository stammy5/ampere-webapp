"use strict";exports.id=454,exports.ids=[454],exports.modules={7358:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},361:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8998:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7636:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},1215:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},9508:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},3468:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},8091:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},6306:(e,t,a)=>{a.d(t,{Z:()=>x});var s=a(326),r=a(7577),i=a(1223),l=a(9682),n=a(4471),o=a(7192),d=a(3468),c=a(4019),m=a(1215);let u=[{value:"open",label:"Open Tender"},{value:"selective",label:"Selective Tender"},{value:"nominated",label:"Nominated Tender"},{value:"negotiated",label:"Negotiated Contract"}],p=[{value:"opportunity",label:"Opportunity"},{value:"preparing",label:"Preparing"},{value:"submitted",label:"Submitted"},{value:"under_evaluation",label:"Under Evaluation"},{value:"won",label:"Won"},{value:"lost",label:"Lost"},{value:"cancelled",label:"Cancelled"}],g=["Ang Mo Kio","Bedok","Bishan","Bukit Batok","Bukit Merah","Bukit Timah","Clementi","Downtown Core","Geylang","Hougang","Jurong East","Jurong West","Kallang","Marine Parade","Newton","Orchard","Pasir Ris","Punggol","Queenstown","Sembawang","Sengkang","Tampines","Toa Payoh","Woodlands","Yishun"];function x({tender:e,isOpen:t,onClose:a,onSave:x,mode:b,isLoading:h=!1}){let{clients:y}=(0,l.a)(),{user:v}=(0,n.a)(),[f,j]=(0,r.useState)({title:e?.title||"",clientId:e?.clientId||"",type:e?.type||"open",status:e?.status||"opportunity",description:e?.description||"",street:e?.location?.street||"",postalCode:e?.location?.postalCode||"",district:e?.location?.district||"",estimatedValue:e?.estimatedValue||0,submissionDeadline:e?.submissionDeadline?new Date(e.submissionDeadline).toISOString().split("T")[0]:"",startDate:e?.startDate?new Date(e.startDate).toISOString().split("T")[0]:"",completionDate:e?.completionDate?new Date(e.completionDate).toISOString().split("T")[0]:"",requirements:e?.requirements?.join("\n")||"",competitorCount:e?.competitorCount||0,winProbability:e?.winProbability||50,assignedTo:e?.assignedTo||v?.id||""}),[C,w]=(0,r.useState)({}),N=(e,t)=>{j(a=>{let s={...a,[e]:t};if("postalCode"===e&&"string"==typeof t){let e=(0,o.FU)(t);e&&(s.district=e)}return s}),C[e]&&w(t=>({...t,[e]:""}))},k=()=>{let e={};return f.title.trim()||(e.title="Tender title is required"),f.clientId||(e.clientId="Client selection is required"),f.description.trim()||(e.description="Description is required"),f.street.trim()||(e.street="Street address is required"),f.postalCode.trim()||(e.postalCode="Postal code is required"),f.submissionDeadline||(e.submissionDeadline="Submission deadline is required"),f.estimatedValue<=0&&(e.estimatedValue="Estimated value must be greater than 0"),f.postalCode&&!(0,o.Uw)(f.postalCode)&&(e.postalCode="Please enter a valid 6-digit postal code"),w(e),0===Object.keys(e).length},D=async t=>{if(t.preventDefault(),!k())return;let a={title:f.title.trim(),clientId:f.clientId,type:f.type,status:f.status,description:f.description.trim(),location:{street:f.street.trim(),postalCode:f.postalCode.trim(),district:f.district},estimatedValue:f.estimatedValue,submissionDeadline:new Date(f.submissionDeadline),startDate:f.startDate?new Date(f.startDate):void 0,completionDate:f.completionDate?new Date(f.completionDate):void 0,requirements:f.requirements.split("\n").filter(e=>e.trim()).map(e=>e.trim()),competitorCount:f.competitorCount,winProbability:f.winProbability,assignedTo:f.assignedTo,documents:e?.documents||[]};await x(a)};return t?s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,s.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:a})}),(0,s.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[s.jsx("div",{className:"bg-white px-6 py-4 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-ampere-100 rounded-lg flex items-center justify-center",children:s.jsx(d.Z,{className:"h-5 w-5 text-ampere-600"})}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"add"===b?"Add New Tender":"Edit Tender"}),s.jsx("p",{className:"text-sm text-gray-600",children:"add"===b?"Create a new tender opportunity":"Update tender information"})]})]}),s.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 p-2 rounded-lg hover:bg-gray-100",children:s.jsx(c.Z,{className:"h-5 w-5"})})]})}),(0,s.jsxs)("form",{onSubmit:D,className:"p-6",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tender Title *"}),s.jsx("input",{type:"text",value:f.title,onChange:e=>N("title",e.target.value),className:(0,i.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",C.title?"border-red-300":"border-gray-300"),placeholder:"Enter tender title"}),C.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.title})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client *"}),(0,s.jsxs)("select",{value:f.clientId,onChange:e=>N("clientId",e.target.value),className:(0,i.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",C.clientId?"border-red-300":"border-gray-300"),children:[s.jsx("option",{value:"",children:"Select Client"}),y.filter(e=>"active"===e.status).map(e=>s.jsx("option",{value:e.id,children:e.name},e.id))]}),C.clientId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.clientId})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tender Type"}),s.jsx("select",{value:f.type,onChange:e=>N("type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",children:u.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsx("select",{value:f.status,onChange:e=>N("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",children:p.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Value (SGD) *"}),s.jsx("input",{type:"number",value:f.estimatedValue,onChange:e=>N("estimatedValue",parseFloat(e.target.value)||0),className:(0,i.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",C.estimatedValue?"border-red-300":"border-gray-300"),placeholder:"0",min:"0",step:"1000"}),C.estimatedValue&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.estimatedValue})]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),s.jsx("textarea",{value:f.description,onChange:e=>N("description",e.target.value),rows:3,className:(0,i.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",C.description?"border-red-300":"border-gray-300"),placeholder:"Describe the tender scope and requirements..."}),C.description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.description})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Location"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),s.jsx("input",{type:"text",value:f.street,onChange:e=>N("street",e.target.value),className:(0,i.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",C.street?"border-red-300":"border-gray-300"),placeholder:"Enter street address"}),C.street&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.street})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code *"}),s.jsx("input",{type:"text",value:f.postalCode,onChange:e=>N("postalCode",e.target.value),className:(0,i.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",C.postalCode?"border-red-300":"border-gray-300"),placeholder:"123456",maxLength:6}),f.postalCode&&(0,o.FU)(f.postalCode)&&(0,s.jsxs)("p",{className:"mt-1 text-xs text-green-600",children:["\uD83D\uDCCD Auto-selected: ",(0,o.FU)(f.postalCode)]}),C.postalCode&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.postalCode})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"District"}),(0,s.jsxs)("select",{value:f.district,onChange:e=>N("district",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",children:[s.jsx("option",{value:"",children:"Select District"}),g.map(e=>s.jsx("option",{value:e,children:e},e))]})]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Timeline & Competition"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Submission Deadline *"}),s.jsx("input",{type:"date",value:f.submissionDeadline,onChange:e=>N("submissionDeadline",e.target.value),className:(0,i.cn)("w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",C.submissionDeadline?"border-red-300":"border-gray-300")}),C.submissionDeadline&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.submissionDeadline})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Competitors"}),s.jsx("input",{type:"number",value:f.competitorCount,onChange:e=>N("competitorCount",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",placeholder:"0",min:"0"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Win Probability (%)"}),s.jsx("input",{type:"number",value:f.winProbability,onChange:e=>N("winProbability",parseInt(e.target.value)||50),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",placeholder:"50",min:"0",max:"100"})]})]})]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requirements"}),s.jsx("textarea",{value:f.requirements,onChange:e=>N("requirements",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",placeholder:"Enter requirements (one per line)"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-6 mt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:a,disabled:h,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:h,className:"btn-primary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"add"===b?"Adding...":"Saving..."})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(m.Z,{className:"h-4 w-4"}),s.jsx("span",{children:"add"===b?"Add Tender":"Save Changes"})]})})]})]})]})]})}):null}},7192:(e,t,a)=>{a.d(t,{FU:()=>r,Uw:()=>i});let s={"01":"Downtown Core","02":"Downtown Core","03":"Downtown Core","04":"Downtown Core","05":"Downtown Core","06":"Downtown Core","07":"Downtown Core","08":"Downtown Core","09":"Orchard",10:"Orchard",11:"Newton",12:"Novena",13:"Newton",14:"Orchard",15:"Orchard",16:"Bukit Timah",17:"Bukit Timah",18:"Novena",19:"Novena",20:"Bishan",21:"Bishan",22:"Ang Mo Kio",23:"Bishan",24:"Ang Mo Kio",25:"Ang Mo Kio",26:"Ang Mo Kio",27:"Ang Mo Kio",28:"Sengkang",29:"Serangoon",30:"Serangoon",31:"Serangoon",32:"Hougang",33:"Hougang",34:"Hougang",35:"Tampines",36:"Tampines",37:"Tampines",38:"Pasir Ris",39:"Tampines",40:"Geylang",41:"Geylang",42:"Geylang",43:"Marine Parade",44:"Marine Parade",45:"Marine Parade",46:"Bedok",47:"Bedok",48:"Bedok",49:"Bedok",50:"Bedok",51:"Bedok",52:"Bedok",53:"Pasir Ris",54:"Pasir Ris",55:"Tampines",56:"Tampines",57:"Tampines",58:"Pasir Ris",59:"Changi",60:"Jurong East",61:"Jurong West",62:"Jurong West",63:"Jurong West",64:"Jurong West",65:"Jurong West",66:"Jurong West",67:"Choa Chu Kang",68:"Choa Chu Kang",69:"Choa Chu Kang",70:"Bukit Panjang",71:"Bukit Panjang",72:"Bukit Batok",73:"Bukit Batok",74:"Bukit Batok",75:"Clementi",76:"Clementi",77:"Queenstown",78:"Queenstown",79:"Tuas",80:"Southern Islands",81:"Southern Islands",82:"Southern Islands"};function r(e){return!e||e.length<2?"":s[e.replace(/\D/g,"").substring(0,2)]||""}function i(e){let t=e.replace(/\D/g,"");return 6===t.length&&/^\d{6}$/.test(t)}}};