(()=>{var e={};e.id=288,e.ids=[288],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1248:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>o,originalPathname:()=>m,pages:()=>x,routeModule:()=>h,tree:()=>d}),t(929),t(5967),t(5866);var a=t(3191),r=t(8716),l=t(7922),n=t.n(l),i=t(5231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(s,c);let d=["",{children:["clients",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,929)),"C:\\Users\\stamm\\AMPERE WEBAPP\\src\\app\\clients\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5967)),"C:\\Users\\stamm\\AMPERE WEBAPP\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],x=["C:\\Users\\stamm\\AMPERE WEBAPP\\src\\app\\clients\\[id]\\page.tsx"],m="/clients/[id]/page",o={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/clients/[id]/page",pathname:"/clients/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8548:(e,s,t)=>{Promise.resolve().then(t.bind(t,7641))},6697:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},6333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7641:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>_});var a=t(326),r=t(7577),l=t(5047),n=t(4471),i=t(9682),c=t(5729),d=t(9884),x=t(6662),m=t(1902),o=t(6333),h=t(9508),p=t(361),j=t(4019),g=t(8787),u=t(4061),N=t(5932),y=t(2887),f=t(7636),b=t(6283),v=t(8998),w=t(6697),P=t(7069),Z=t(1821),C=t(434),E=t(1223);function _(){let e=(0,l.useParams)(),{user:s}=(0,n.a)(),{getClient:t,updateClient:_}=(0,i.a)(),{getActiveClientTypes:A}=(0,c.r)(),k=e.id,q=A().reduce((e,s)=>(e[s.value]=s.label,e),{}),T=t(k),D=m.ZQ.filter(e=>e.clientId===k),G=m.C7.filter(e=>e.clientId===k),[S,U]=(0,r.useState)("overview"),[M,V]=(0,r.useState)(!1),[L,R]=(0,r.useState)(!1),[$,B]=(0,r.useState)(""),[W,I]=(0,r.useState)(T),O=async e=>{if(W){R(!0),B("");try{await new Promise(e=>setTimeout(e,1e3)),_(W.id,e);let s=t(k);I(s),B("Client updated successfully!"),V(!1),setTimeout(()=>{B("")},3e3)}catch(e){console.error("Error updating client:",e)}finally{R(!1)}}};if(!s)return a.jsx("div",{children:"Loading..."});if(!W)return a.jsx(d.Z,{user:s,children:(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Client not found"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"The client you're looking for doesn't exist."}),a.jsx(C.default,{href:"/clients",className:"btn-primary mt-4",children:"Back to Clients"})]})});let X=D.reduce((e,s)=>e+s.contractValue,0),z=D.filter(e=>"completed"===e.status).length,H=D.filter(e=>"in_progress"===e.status).length;return(0,a.jsxs)(d.Z,{user:s,children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(C.default,{href:"/clients",className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:a.jsx(o.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:W.name}),a.jsx("span",{className:"px-3 py-1 text-sm font-medium bg-ampere-100 text-ampere-800 rounded-lg font-mono",children:W.clientCode})]}),a.jsx("p",{className:"text-gray-600",children:"Client Details & Project Portfolio"})]})]}),("super_admin"===s.role||"admin"===s.role||"sales"===s.role)&&(0,a.jsxs)("button",{onClick:()=>{V(!0)},className:"btn-primary flex items-center space-x-2",children:[a.jsx(h.Z,{className:"h-4 w-4"}),a.jsx("span",{children:"Edit Client"})]})]}),$&&(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(p.Z,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"text-green-800 font-medium",children:$})]}),a.jsx("button",{onClick:()=>B(""),className:"text-green-600 hover:text-green-800 p-1 rounded-lg hover:bg-green-100",children:a.jsx(j.Z,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:a.jsx("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-16 h-16 bg-ampere-100 rounded-lg flex items-center justify-center",children:a.jsx(g.Z,{className:"h-8 w-8 text-ampere-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:W.name}),a.jsx("span",{className:"px-3 py-1 text-sm font-medium bg-ampere-100 text-ampere-800 rounded-lg font-mono font-semibold",children:W.clientCode}),a.jsx("span",{className:(0,E.cn)("px-3 py-1 text-sm font-medium rounded-full","active"===W.status?"bg-green-100 text-green-800":"inactive"===W.status?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"),children:W.status.charAt(0).toUpperCase()+W.status.slice(1)}),a.jsx("span",{className:"px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:q[W.type]||W.type})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[a.jsx(u.Z,{className:"h-4 w-4"}),a.jsx("span",{children:W.contactPerson})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[a.jsx(N.Z,{className:"h-4 w-4"}),a.jsx("a",{href:`mailto:${W.email}`,className:"text-ampere-600 hover:underline",children:W.email})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[a.jsx(y.Z,{className:"h-4 w-4"}),a.jsx("a",{href:`tel:${W.phone}`,className:"text-ampere-600 hover:underline",children:W.phone})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[a.jsx(f.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[W.address.street,", ",W.address.district," ",W.address.postalCode]})]}),W.registrationNumber&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[a.jsx(b.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Reg: ",W.registrationNumber]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[a.jsx(v.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Payment: ",W.paymentTerms," days"]})]})]}),W.notes&&a.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-gray-700",children:[a.jsx("strong",{children:"Notes:"})," ",W.notes]})})]})]})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"metric-card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Projects"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.length})]}),a.jsx(w.Z,{className:"h-8 w-8 text-ampere-600"})]})}),a.jsx("div",{className:"metric-card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Projects"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:H})]}),a.jsx(P.Z,{className:"h-8 w-8 text-green-600"})]})}),a.jsx("div",{className:"metric-card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:z})]}),a.jsx(b.Z,{className:"h-8 w-8 text-blue-600"})]})}),a.jsx("div",{className:"metric-card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),a.jsx("p",{className:"text-2xl font-bold text-ampere-600",children:(0,E.xG)(X)})]}),a.jsx(Z.Z,{className:"h-8 w-8 text-ampere-600"})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",label:"Overview",icon:w.Z},{id:"projects",label:`Projects (${D.length})`,icon:g.Z},{id:"quotations",label:`Quotations (${G.length})`,icon:b.Z},{id:"documents",label:"Documents",icon:b.Z}].map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>U(e.id),className:(0,E.cn)("flex items-center space-x-2 py-4 border-b-2 font-medium text-sm",S===e.id?"border-ampere-500 text-ampere-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[a.jsx(s,{className:"h-4 w-4"}),a.jsx("span",{children:e.label})]},e.id)})})}),(0,a.jsxs)("div",{className:"p-6",children:["overview"===S&&a.jsx("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Projects"}),a.jsx("div",{className:"space-y-3",children:D.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-600",children:(0,E.xG)(e.contractValue)})]}),a.jsx("span",{className:(0,E.cn)("px-2 py-1 text-xs font-medium rounded-full",(0,E.Xc)(e.status)),children:e.status.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())})]},e.id))})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Information"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-gray-600",children:"Payment Terms"}),(0,a.jsxs)("span",{className:"font-medium",children:[W.paymentTerms," days"]})]}),W.creditLimit&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-gray-600",children:"Credit Limit"}),a.jsx("span",{className:"font-medium",children:(0,E.xG)(W.creditLimit)})]}),W.gstNumber&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-gray-600",children:"GST Number"}),a.jsx("span",{className:"font-medium",children:W.gstNumber})]})]})]})]})}),"projects"===S&&(0,a.jsxs)("div",{className:"space-y-4",children:[D.map(e=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsx("span",{className:(0,E.cn)("px-2 py-1 text-xs font-medium rounded-full",(0,E.Xc)(e.status)),children:e.status.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())})]}),a.jsx("p",{className:"text-gray-600 mt-1",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center space-x-6 mt-3 text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Value:"})," ",(0,E.xG)(e.contractValue)]}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Start:"})," ",(0,E.p6)(e.startDate)]}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"End:"})," ",(0,E.p6)(e.expectedEndDate)]})]})]}),a.jsx(C.default,{href:`/projects/${e.id}`,className:"btn-secondary",children:"View Details"})]})},e.id)),0===D.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(g.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No projects yet"}),a.jsx("p",{className:"text-gray-600",children:"This client doesn't have any projects assigned."})]})]}),"quotations"===S&&(0,a.jsxs)("div",{className:"space-y-4",children:[G.map(e=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:e.title}),a.jsx("span",{className:(0,E.cn)("px-2 py-1 text-xs font-medium rounded-full","sent"===e.status?"bg-blue-100 text-blue-800":"accepted"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.status.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())})]}),a.jsx("p",{className:"text-gray-600 mt-1",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center space-x-6 mt-3 text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Amount:"})," ",(0,E.xG)(e.totalAmount)]}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Valid Until:"})," ",(0,E.p6)(e.validUntil)]}),e.sentDate&&(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Sent:"})," ",(0,E.p6)(e.sentDate)]})]})]}),a.jsx(C.default,{href:`/quotations/${e.id}`,className:"btn-secondary",children:"View Details"})]})},e.id)),0===G.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(b.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No quotations yet"}),a.jsx("p",{className:"text-gray-600",children:"No quotations have been sent to this client."})]})]}),"documents"===S&&(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(b.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Documents"}),a.jsx("p",{className:"text-gray-600",children:"Document management feature coming soon."})]})]})]})]}),a.jsx(x.Z,{client:W,isOpen:M,onClose:()=>{V(!1)},onSave:O,mode:"edit",isLoading:L})]})}},929:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\app\clients\[id]\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[935,910,370,884,373],()=>t(1248));module.exports=a})();