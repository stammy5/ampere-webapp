(()=>{var e={};e.id=882,e.ids=[882],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3755:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>d}),s(4174),s(5967),s(5866);var r=s(3191),a=s(8716),n=s(7922),l=s.n(n),i=s(5231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);s.d(t,c);let d=["",{children:["reports",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4174)),"C:\\Users\\stamm\\AMPERE WEBAPP\\src\\app\\reports\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5967)),"C:\\Users\\stamm\\AMPERE WEBAPP\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\stamm\\AMPERE WEBAPP\\src\\app\\reports\\page.tsx"],x="/reports/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/reports/page",pathname:"/reports",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5767:(e,t,s)=>{Promise.resolve().then(s.bind(s,6732))},6697:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},8787:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},7358:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},6754:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},361:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1540:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},2714:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6732:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>P});var r=s(326),a=s(7577),n=s(434),l=s(4471),i=s(9666),c=s(9884),d=s(3855),o=s(361),x=s(4019);let m=(0,s(2881).Z)("FileChartColumnIncreasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);var p=s(1821),h=s(6697),g=s(7358),y=s(6754),u=s(4061),j=s(8787),b=s(7069),f=s(8307),v=s(2714),N=s(1540),w=s(1223);let k={financial_summary:"Financial Summary",project_analytics:"Project Analytics",client_performance:"Client Performance",vendor_analysis:"Vendor Analysis",tender_success:"Tender Success",cash_flow:"Cash Flow Analysis",profitability:"Profitability Report",aging_report:"Aging Report",performance_metrics:"Performance Metrics"},M={financial:"bg-green-100 text-green-800",operational:"bg-blue-100 text-blue-800",analytics:"bg-purple-100 text-purple-800",compliance:"bg-orange-100 text-orange-800"},C={completed:"bg-green-100 text-green-800",generating:"bg-yellow-100 text-yellow-800",failed:"bg-red-100 text-red-800",scheduled:"bg-blue-100 text-blue-800"};function P(){let{user:e}=(0,l.a)(),{reports:t,generateReport:s,deleteReport:P,getReportsByCategory:Z,getRecentReports:_}=(0,i.x)(),[A,R]=(0,a.useState)("overview"),[D,E]=(0,a.useState)(""),[S,q]=(0,a.useState)(!1),[G,T]=(0,a.useState)(null),[F,L]=(0,a.useState)(""),z={dateRange:{startDate:new Date(new Date().getFullYear(),new Date().getMonth()-2,1),endDate:new Date},filters:{},groupBy:"month",includeGST:!0},B=(0,a.useMemo)(()=>{let e=t;return"overview"!==A&&(e=Z(A)),D&&(e=e.filter(e=>e.title.toLowerCase().includes(D.toLowerCase())||e.description.toLowerCase().includes(D.toLowerCase())||k[e.type]?.toLowerCase().includes(D.toLowerCase()))),e.sort((e,t)=>new Date(t.generatedAt).getTime()-new Date(e.generatedAt).getTime())},[t,A,D,Z]),U=(0,a.useMemo)(()=>{let e=t.length;return{total:e,byCategory:{financial:Z("financial").length,operational:Z("operational").length,analytics:Z("analytics").length,compliance:Z("compliance").length},completed:t.filter(e=>"completed"===e.status).length,thisMonth:t.filter(e=>{let t=new Date(e.generatedAt),s=new Date;return t.getMonth()===s.getMonth()&&t.getFullYear()===s.getFullYear()}).length}},[t,Z]),V=async e=>{T(e);try{await new Promise(e=>setTimeout(e,2e3)),s(e,z),L(`${k[e]} generated successfully!`),setTimeout(()=>L(""),3e3)}catch(e){console.error("Error generating report:",e)}finally{T(null)}},W=e=>{confirm(`Are you sure you want to delete "${e.title}"?`)&&(P(e.id),L("Report deleted successfully!"),setTimeout(()=>L(""),3e3))},H=e?.role==="super_admin"||e?.role==="admin"||e?.role==="finance"||e?.role==="projects";return e?r.jsx(c.Z,{user:e,children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),r.jsx("p",{className:"text-gray-600",children:"Generate and view comprehensive business reports and analytics"})]}),H&&r.jsx("div",{className:"flex items-center space-x-3",children:(0,r.jsxs)("button",{onClick:()=>q(!0),className:"btn-primary flex items-center space-x-2",children:[r.jsx(d.Z,{className:"h-4 w-4"}),r.jsx("span",{children:"Generate Report"})]})})]}),F&&(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(o.Z,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{className:"text-green-800 font-medium",children:F})]}),r.jsx("button",{onClick:()=>L(""),className:"text-green-600 hover:text-green-800 p-1 rounded-lg hover:bg-green-100",children:r.jsx(x.Z,{className:"h-4 w-4"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsxs)("div",{className:"metric-card",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Reports"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:U.total})]}),r.jsx(m,{className:"h-8 w-8 text-gray-600"})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[U.completed," completed"]})]}),(0,r.jsxs)("div",{className:"metric-card",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Financial Reports"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:U.byCategory.financial})]}),r.jsx(p.Z,{className:"h-8 w-8 text-green-600"})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Revenue & profitability"})]}),(0,r.jsxs)("div",{className:"metric-card",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Operational"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:U.byCategory.operational})]}),r.jsx(h.Z,{className:"h-8 w-8 text-blue-600"})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Projects & vendors"})]}),(0,r.jsxs)("div",{className:"metric-card",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:U.thisMonth})]}),r.jsx(g.Z,{className:"h-8 w-8 text-purple-600"})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Reports generated"})]})]}),H&&(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Reports"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)("button",{onClick:()=>V("financial_summary"),disabled:"financial_summary"===G,className:"p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(p.Z,{className:"h-5 w-5 text-green-600"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Financial Summary"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Revenue & expenses"})]})]}),"financial_summary"===G&&(0,r.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}),r.jsx("span",{className:"text-sm text-green-600",children:"Generating..."})]})]}),(0,r.jsxs)("button",{onClick:()=>V("project_analytics"),disabled:"project_analytics"===G,className:"p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(y.Z,{className:"h-5 w-5 text-blue-600"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Project Analytics"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Performance metrics"})]})]}),"project_analytics"===G&&(0,r.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),r.jsx("span",{className:"text-sm text-blue-600",children:"Generating..."})]})]}),(0,r.jsxs)("button",{onClick:()=>V("client_performance"),disabled:"client_performance"===G,className:"p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(u.Z,{className:"h-5 w-5 text-purple-600"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Client Performance"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Payment patterns"})]})]}),"client_performance"===G&&(0,r.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"}),r.jsx("span",{className:"text-sm text-purple-600",children:"Generating..."})]})]}),(0,r.jsxs)("button",{onClick:()=>V("vendor_analysis"),disabled:"vendor_analysis"===G,className:"p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:r.jsx(j.Z,{className:"h-5 w-5 text-orange-600"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Vendor Analysis"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Performance ratings"})]})]}),"vendor_analysis"===G&&(0,r.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-600"}),r.jsx("span",{className:"text-sm text-orange-600",children:"Generating..."})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.jsx("div",{className:"border-b border-gray-200",children:(0,r.jsxs)("nav",{className:"flex space-x-8 px-6",children:[(0,r.jsxs)("button",{onClick:()=>R("overview"),className:(0,w.cn)("flex items-center space-x-2 py-4 border-b-2 font-medium text-sm","overview"===A?"border-ampere-500 text-ampere-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[r.jsx(m,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:["All Reports (",t.length,")"]})]}),(0,r.jsxs)("button",{onClick:()=>R("financial"),className:(0,w.cn)("flex items-center space-x-2 py-4 border-b-2 font-medium text-sm","financial"===A?"border-ampere-500 text-ampere-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[r.jsx(p.Z,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:["Financial (",U.byCategory.financial,")"]})]}),(0,r.jsxs)("button",{onClick:()=>R("operational"),className:(0,w.cn)("flex items-center space-x-2 py-4 border-b-2 font-medium text-sm","operational"===A?"border-ampere-500 text-ampere-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[r.jsx(h.Z,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:["Operational (",U.byCategory.operational,")"]})]}),(0,r.jsxs)("button",{onClick:()=>R("analytics"),className:(0,w.cn)("flex items-center space-x-2 py-4 border-b-2 font-medium text-sm","analytics"===A?"border-ampere-500 text-ampere-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[r.jsx(b.Z,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:["Analytics (",U.byCategory.analytics,")"]})]})]})}),(0,r.jsxs)("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsx("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx(f.Z,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search reports...",value:D,onChange:e=>E(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500"})]})})}),r.jsx("div",{className:"space-y-4",children:B.length>0?B.map(e=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:e.title}),r.jsx("span",{className:(0,w.cn)("px-2 py-1 text-xs font-medium rounded-full",M[e.category]),children:e.category.charAt(0).toUpperCase()+e.category.slice(1)}),r.jsx("span",{className:(0,w.cn)("px-2 py-1 text-xs font-medium rounded-full",C[e.status]),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,r.jsxs)("span",{children:["Type: ",k[e.type]]}),r.jsx("span",{children:"•"}),(0,r.jsxs)("span",{children:["Generated: ",new Date(e.generatedAt).toLocaleDateString()]}),r.jsx("span",{children:"•"}),(0,r.jsxs)("span",{children:["Period: ",new Date(e.parameters.dateRange.startDate).toLocaleDateString()," - ",new Date(e.parameters.dateRange.endDate).toLocaleDateString()]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(n.default,{href:`/reports/${e.id}`,className:"text-ampere-600 hover:text-ampere-900 p-2 rounded-lg hover:bg-ampere-50",children:r.jsx(v.Z,{className:"h-4 w-4"})}),r.jsx("button",{className:"text-gray-600 hover:text-gray-900 p-2 rounded-lg hover:bg-gray-100",children:r.jsx(N.Z,{className:"h-4 w-4"})}),H&&r.jsx("button",{onClick:()=>W(e),className:"text-red-600 hover:text-red-900 p-2 rounded-lg hover:bg-red-50",children:r.jsx(x.Z,{className:"h-4 w-4"})})]})]})},e.id)):(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx(m,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Reports Found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:D?"Try adjusting your search criteria.":"Start by generating your first report using the quick actions above."}),H&&!D&&r.jsx("button",{onClick:()=>q(!0),className:"btn-primary",children:"Generate First Report"})]})})]})]})]})}):null}},4174:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\app\reports\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[935,910,370,884],()=>s(3755));module.exports=r})();