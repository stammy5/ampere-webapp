(()=>{var e={};e.id=676,e.ids=[676],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1515:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>o,originalPathname:()=>m,pages:()=>x,routeModule:()=>p,tree:()=>d}),a(2927),a(5967),a(5866);var t=a(3191),r=a(8716),n=a(7922),i=a.n(n),c=a(5231),l={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);a.d(s,l);let d=["",{children:["users",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,2927)),"C:\\Users\\stamm\\AMPERE WEBAPP\\src\\app\\users\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,5967)),"C:\\Users\\stamm\\AMPERE WEBAPP\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],x=["C:\\Users\\stamm\\AMPERE WEBAPP\\src\\app\\users\\[id]\\page.tsx"],m="/users/[id]/page",o={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/users/[id]/page",pathname:"/users/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5481:(e,s,a)=>{Promise.resolve().then(a.bind(a,5749))},6333:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8998:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},9447:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},5932:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},949:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},5749:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>U});var t=a(326),r=a(7577),n=a(5047),i=a(434),c=a(4471),l=a(2588),d=a(9884),x=a(6376),m=a(6092),o=a(3734),p=a(1821),h=a(7546),j=a(7671),u=a(949),g=a(6333),N=a(9508),y=a(9447),v=a(9669),f=a(361),b=a(4019),w=a(5932),Z=a(7358),A=a(8998),P=a(165),k=a(9819),_=a(6697),D=a(1223);let E={super_admin:m.Z,admin:o.Z,finance:p.Z,projects:h.Z,sales:j.Z},S={super_admin:"bg-red-100 text-red-800 border-red-200",admin:"bg-purple-100 text-purple-800 border-purple-200",finance:"bg-green-100 text-green-800 border-green-200",projects:"bg-blue-100 text-blue-800 border-blue-200",sales:"bg-orange-100 text-orange-800 border-orange-200"},C={super_admin:"Super Admin",admin:"Admin",finance:"Finance",projects:"Projects",sales:"Sales"},L=e=>[{id:"1",type:"login",description:"Logged into the system",timestamp:new Date(Date.now()-18e5)},{id:"2",type:"project",description:"Updated project status for Marina Bay Renovation",timestamp:new Date(Date.now()-72e5)},{id:"3",type:"invoice",description:"Generated invoice INV-2024-001",timestamp:new Date(Date.now()-288e5)},{id:"4",type:"quotation",description:"Submitted quotation for Orchard Road Project",timestamp:new Date(Date.now()-864e5)},{id:"5",type:"client",description:"Added new client: Tech Solutions Pte Ltd",timestamp:new Date(Date.now()-1728e5)}];function U(){let e=(0,n.useParams)(),s=(0,n.useRouter)(),{user:a}=(0,c.a)(),{getUser:m,updateUser:o,toggleUserStatus:p,deleteUser:h}=(0,l.U)(),j=e.id,U=m(j),[M,R]=(0,r.useState)("overview"),[T,q]=(0,r.useState)(!1),[F,B]=(0,r.useState)(!1),[G,I]=(0,r.useState)(""),O=(0,r.useMemo)(()=>L(j),[j]);if(!U)return t.jsx(d.Z,{user:a,children:t.jsx("div",{className:"flex items-center justify-center h-96",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(u.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"User Not Found"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"The user you're looking for doesn't exist."}),t.jsx(i.default,{href:"/users",className:"btn-primary",children:"Back to Users"})]})})});let V=async e=>{B(!0);try{await new Promise(e=>setTimeout(e,1e3)),o(U.id,e),q(!1),I("User updated successfully!"),setTimeout(()=>I(""),3e3)}catch(e){console.error("Error updating user:",e)}finally{B(!1)}},W=E[U.role];return a?(0,t.jsxs)(d.Z,{user:a,children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx(i.default,{href:"/users",className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:t.jsx(g.Z,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Profile"}),t.jsx("p",{className:"text-gray-600",children:"View and manage user account details"})]})]}),!!a&&("super_admin"===a.role||"admin"===a.role&&"super_admin"!==U.role&&"admin"!==U.role)&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("button",{onClick:()=>q(!0),className:"btn-secondary flex items-center space-x-2",children:[t.jsx(N.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Edit User"})]}),(0,t.jsxs)("div",{className:"relative group",children:[t.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:t.jsx(y.Z,{className:"h-5 w-5"})}),t.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10",children:(0,t.jsxs)("div",{className:"py-1",children:[(0,t.jsxs)("button",{onClick:()=>{if("super_admin"===U.role&&U.isActive){alert("Super Admin users cannot be deactivated.");return}let e=U.isActive?"deactivate":"activate";confirm(`Are you sure you want to ${e} ${U.name}?`)&&p(U.id)&&(I(`User ${e}d successfully!`),setTimeout(()=>I(""),3e3))},className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[U.isActive?t.jsx(v.Z,{className:"h-4 w-4"}):t.jsx(f.Z,{className:"h-4 w-4"}),t.jsx("span",{children:U.isActive?"Deactivate":"Activate"})]}),"super_admin"!==U.role&&(0,t.jsxs)("button",{onClick:()=>{if("super_admin"===U.role){alert("Super Admin users cannot be deleted.");return}confirm(`Are you sure you want to delete ${U.name}? This action cannot be undone.`)&&h(U.id)&&s.push("/users")},className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50",children:[t.jsx(u.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Delete User"})]})]})})]})]})]}),G&&(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx(f.Z,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{className:"text-green-800 font-medium",children:G})]}),t.jsx("button",{onClick:()=>I(""),className:"text-green-600 hover:text-green-800",children:t.jsx(b.Z,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,t.jsxs)("div",{className:"flex items-start space-x-6",children:[t.jsx("div",{className:"w-24 h-24 bg-ampere-100 rounded-full flex items-center justify-center",children:U.avatar?t.jsx("img",{src:U.avatar,alt:U.name,className:"w-24 h-24 rounded-full object-cover"}):t.jsx("span",{className:"text-ampere-600 font-bold text-2xl",children:U.name.split(" ").map(e=>e[0]).join("").toUpperCase()})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:U.name}),(0,t.jsxs)("span",{className:(0,D.cn)("px-3 py-1 text-sm font-medium rounded-full border",S[U.role]),children:[t.jsx(W,{className:"h-4 w-4 inline mr-1"}),C[U.role]]}),t.jsx("span",{className:(0,D.cn)("px-2 py-1 text-xs font-medium rounded-full",U.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:U.isActive?"Active":"Inactive"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(w.Z,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-600",children:"Email:"}),t.jsx("span",{className:"font-medium",children:U.email})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(Z.Z,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-600",children:"Joined:"}),t.jsx("span",{className:"font-medium",children:new Date(U.createdAt).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(A.Z,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-600",children:"Last Login:"}),t.jsx("span",{className:"font-medium",children:U.lastLogin?new Date(U.lastLogin).toLocaleDateString():"Never"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(P.Z,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-600",children:"User ID:"}),(0,t.jsxs)("span",{className:"font-medium",children:["#",U.id]})]})]})]})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[t.jsx("div",{className:"border-b border-gray-200",children:(0,t.jsxs)("nav",{className:"flex space-x-8 px-6",children:[(0,t.jsxs)("button",{onClick:()=>R("overview"),className:(0,D.cn)("flex items-center space-x-2 py-4 border-b-2 font-medium text-sm","overview"===M?"border-ampere-500 text-ampere-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[t.jsx(k.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Overview"})]}),(0,t.jsxs)("button",{onClick:()=>R("activity"),className:(0,D.cn)("flex items-center space-x-2 py-4 border-b-2 font-medium text-sm","activity"===M?"border-ampere-500 text-ampere-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[t.jsx(_.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Activity Log"})]}),(0,t.jsxs)("button",{onClick:()=>R("permissions"),className:(0,D.cn)("flex items-center space-x-2 py-4 border-b-2 font-medium text-sm","permissions"===M?"border-ampere-500 text-ampere-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[t.jsx(P.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Permissions"})]})]})}),(0,t.jsxs)("div",{className:"p-6",children:["overview"===M&&(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Overview"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Account Details"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Account Status:"}),t.jsx("span",{className:(0,D.cn)("font-medium",U.isActive?"text-green-600":"text-red-600"),children:U.isActive?"Active":"Inactive"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Role:"}),t.jsx("span",{className:"font-medium",children:C[U.role]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Email:"}),t.jsx("span",{className:"font-medium",children:U.email})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Member Since:"}),t.jsx("span",{className:"font-medium",children:new Date(U.createdAt).toLocaleDateString()})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Activity Summary"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Total Logins:"}),t.jsx("span",{className:"font-medium",children:"45"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Projects Managed:"}),t.jsx("span",{className:"font-medium",children:"12"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Documents Created:"}),t.jsx("span",{className:"font-medium",children:"28"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Last Activity:"}),t.jsx("span",{className:"font-medium",children:"2 hours ago"})]})]})]})]})]}),"activity"===M&&(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),t.jsx("div",{className:"space-y-4",children:O.map(e=>(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg",children:[t.jsx("div",{className:"w-8 h-8 bg-ampere-100 rounded-full flex items-center justify-center",children:t.jsx(_.Z,{className:"h-4 w-4 text-ampere-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-gray-900",children:e.description}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.timestamp.toLocaleDateString()," at ",e.timestamp.toLocaleTimeString()]})]})]},e.id))})]}),"permissions"===M&&(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Role Permissions"}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx(W,{className:"h-6 w-6 text-ampere-600"}),(0,t.jsxs)("span",{className:"font-medium text-gray-900",children:[C[U.role]," Role"]})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:["super_admin"===U.role&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(f.Z,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{children:"Full system access"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(f.Z,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{children:"User management"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(f.Z,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{children:"System configuration"})]})]}),"admin"===U.role&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(f.Z,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{children:"Project management"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(f.Z,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{children:"Client management"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(f.Z,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{children:"Vendor coordination"})]})]}),"finance"===U.role&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(f.Z,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{children:"Financial data access"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(f.Z,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{children:"Invoicing and payments"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(f.Z,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{children:"Financial reports"})]})]}),"projects"===U.role&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(f.Z,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{children:"Project management"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(f.Z,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{children:"Vendor coordination"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(f.Z,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{children:"Permit tracking"})]})]}),"sales"===U.role&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(f.Z,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{children:"Client access"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(f.Z,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{children:"Tender management"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(f.Z,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{children:"Quotation creation"})]})]})]})]})]})]})]})]}),t.jsx(x.Z,{user:U,isOpen:T,onClose:()=>q(!1),onSave:V,mode:"edit",isLoading:F})]}):null}},2927:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(8570).createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\app\users\[id]\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[935,910,370,884,627],()=>a(1515));module.exports=t})();