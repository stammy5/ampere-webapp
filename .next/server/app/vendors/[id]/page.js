(()=>{var e={};e.id=766,e.ids=[766],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},571:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>o,originalPathname:()=>m,pages:()=>x,routeModule:()=>p,tree:()=>d}),t(6885),t(5967),t(5866);var a=t(3191),r=t(8716),l=t(7922),n=t.n(l),i=t(5231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(s,c);let d=["",{children:["vendors",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6885)),"C:\\Users\\stamm\\AMPERE WEBAPP\\src\\app\\vendors\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5967)),"C:\\Users\\stamm\\AMPERE WEBAPP\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],x=["C:\\Users\\stamm\\AMPERE WEBAPP\\src\\app\\vendors\\[id]\\page.tsx"],m="/vendors/[id]/page",o={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/vendors/[id]/page",pathname:"/vendors/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9913:(e,s,t)=>{Promise.resolve().then(t.bind(t,6630))},6697:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},6333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6630:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A});var a=t(326),r=t(7577),l=t(5047),n=t(4471),i=t(9982),c=t(9884),d=t(2393),x=t(1902),m=t(3734),o=t(6333),p=t(9508),h=t(361),j=t(4019),g=t(9734),u=t(4061),N=t(5932),f=t(2887),y=t(7636),v=t(6283),b=t(8998),w=t(6226),P=t(7048),Z=t(6697),C=t(7069),E=t(434),_=t(1223);function A(){let e=(0,l.useParams)(),{user:s}=(0,n.a)(),{getVendor:t,updateVendor:A}=(0,i.R)(),k=e.id,S=t(k),q=x.ZQ.filter(e=>e.vendors?.some(e=>e.vendorId===k)),T=x.C7.filter(e=>e.preparedBy===k),[V,R]=(0,r.useState)("overview"),[M,G]=(0,r.useState)(!1),[B,D]=(0,r.useState)(!1),[U,z]=(0,r.useState)(""),[$,L]=(0,r.useState)(S),W=async e=>{if($){D(!0),z("");try{await new Promise(e=>setTimeout(e,1e3)),A($.id,e);let s=t(k);L(s),z("Vendor updated successfully!"),G(!1),setTimeout(()=>{z("")},3e3)}catch(e){console.error("Error updating vendor:",e)}finally{D(!1)}}},O=e=>Array.from({length:5},(s,t)=>a.jsx(m.Z,{className:(0,_.cn)("h-4 w-4",t<e?"text-yellow-400 fill-current":"text-gray-300")},t));if(!s)return a.jsx("div",{children:"Loading..."});if(!$)return a.jsx(c.Z,{user:s,children:(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Vendor not found"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"The vendor you're looking for doesn't exist."}),a.jsx(E.default,{href:"/vendors",className:"btn-primary mt-4",children:"Back to Vendors"})]})});let X=q.reduce((e,s)=>e+s.contractValue,0),H=q.filter(e=>"completed"===e.status).length,I=q.filter(e=>"in_progress"===e.status).length;return(0,a.jsxs)(c.Z,{user:s,children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(E.default,{href:"/vendors",className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:a.jsx(o.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:$.name}),a.jsx("span",{className:"px-3 py-1 text-sm font-medium bg-ampere-100 text-ampere-800 rounded-lg font-mono",children:$.vendorCode})]}),a.jsx("p",{className:"text-gray-600",children:"Vendor Details & Project Portfolio"})]})]}),("super_admin"===s.role||"admin"===s.role||"projects"===s.role)&&(0,a.jsxs)("button",{onClick:()=>{G(!0)},className:"btn-primary flex items-center space-x-2",children:[a.jsx(p.Z,{className:"h-4 w-4"}),a.jsx("span",{children:"Edit Vendor"})]})]}),U&&(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(h.Z,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"text-green-800 font-medium",children:U})]}),a.jsx("button",{onClick:()=>z(""),className:"text-green-600 hover:text-green-800 p-1 rounded-lg hover:bg-green-100",children:a.jsx(j.Z,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:a.jsx("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-16 h-16 bg-ampere-100 rounded-lg flex items-center justify-center",children:a.jsx(g.Z,{className:"h-8 w-8 text-ampere-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:$.name}),a.jsx("span",{className:"px-3 py-1 text-sm font-medium bg-ampere-100 text-ampere-800 rounded-lg font-mono font-semibold",children:$.vendorCode}),a.jsx("span",{className:(0,_.cn)("px-3 py-1 text-sm font-medium rounded-full","active"===$.status?"bg-green-100 text-green-800":"inactive"===$.status?"bg-gray-100 text-gray-800":"blacklisted"===$.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:$.status.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())}),a.jsx("span",{className:"px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:{supplier:"Supplier",subcontractor:"Subcontractor",consultant:"Consultant",specialist:"Specialist"}[$.category]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[a.jsx(u.Z,{className:"h-4 w-4"}),a.jsx("span",{children:$.contactPerson})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[a.jsx(N.Z,{className:"h-4 w-4"}),a.jsx("a",{href:`mailto:${$.email}`,className:"text-ampere-600 hover:underline",children:$.email})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[a.jsx(f.Z,{className:"h-4 w-4"}),a.jsx("a",{href:`tel:${$.phone}`,className:"text-ampere-600 hover:underline",children:$.phone})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[a.jsx(y.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[$.address.street,", ",$.address.district," ",$.address.postalCode]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[a.jsx(v.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Reg: ",$.registrationNumber]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[a.jsx(b.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Payment: ",$.paymentTerms," days"]})]})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center space-x-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Rating:"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[O($.rating),(0,a.jsxs)("span",{className:"text-sm text-gray-600 ml-2",children:["(",$.rating,"/5)"]})]})]}),$.certifications.length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Certifications:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:$.certifications.map((e,s)=>(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:[a.jsx(w.Z,{className:"h-3 w-3 mr-1"}),e]},s))})]}),$.specializations.length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Specializations:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:$.specializations.map((e,s)=>(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:[a.jsx(P.Z,{className:"h-3 w-3 mr-1"}),e]},s))})]})]})]})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"metric-card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Projects"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:q.length})]}),a.jsx(Z.Z,{className:"h-8 w-8 text-ampere-600"})]})}),a.jsx("div",{className:"metric-card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Projects"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:I})]}),a.jsx(C.Z,{className:"h-8 w-8 text-green-600"})]})}),a.jsx("div",{className:"metric-card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:H})]}),a.jsx(v.Z,{className:"h-8 w-8 text-blue-600"})]})}),a.jsx("div",{className:"metric-card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),a.jsx("p",{className:"text-2xl font-bold text-ampere-600",children:(0,_.xG)(X)})]}),a.jsx(m.Z,{className:"h-8 w-8 text-ampere-600"})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",label:"Overview",icon:Z.Z},{id:"projects",label:`Projects (${q.length})`,icon:g.Z},{id:"quotations",label:`Quotations (${T.length})`,icon:v.Z},{id:"documents",label:"Documents",icon:v.Z}].map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>R(e.id),className:(0,_.cn)("flex items-center space-x-2 py-4 border-b-2 font-medium text-sm",V===e.id?"border-ampere-500 text-ampere-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[a.jsx(s,{className:"h-4 w-4"}),a.jsx("span",{children:e.label})]},e.id)})})}),(0,a.jsxs)("div",{className:"p-6",children:["overview"===V&&a.jsx("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Projects"}),a.jsx("div",{className:"space-y-3",children:q.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-600",children:(0,_.xG)(e.contractValue)})]}),a.jsx("span",{className:(0,_.cn)("px-2 py-1 text-xs font-medium rounded-full",(0,_.Xc)(e.status)),children:e.status.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())})]},e.id))})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Business Information"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-gray-600",children:"Payment Terms"}),(0,a.jsxs)("span",{className:"font-medium",children:[$.paymentTerms," days"]})]}),$.gstNumber&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-gray-600",children:"GST Number"}),a.jsx("span",{className:"font-medium",children:$.gstNumber})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-gray-600",children:"Rating"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[O($.rating),(0,a.jsxs)("span",{className:"font-medium ml-2",children:["(",$.rating,")"]})]})]})]})]})]})}),"projects"===V&&(0,a.jsxs)("div",{className:"space-y-4",children:[q.map(e=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsx("span",{className:(0,_.cn)("px-2 py-1 text-xs font-medium rounded-full",(0,_.Xc)(e.status)),children:e.status.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())})]}),a.jsx("p",{className:"text-gray-600 mt-1",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center space-x-6 mt-3 text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Value:"})," ",(0,_.xG)(e.contractValue)]}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"Start:"})," ",(0,_.p6)(e.startDate)]}),(0,a.jsxs)("span",{children:[a.jsx("strong",{children:"End:"})," ",(0,_.p6)(e.expectedEndDate)]})]})]}),a.jsx(E.default,{href:`/projects/${e.id}`,className:"btn-secondary",children:"View Details"})]})},e.id)),0===q.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(g.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No projects yet"}),a.jsx("p",{className:"text-gray-600",children:"This vendor doesn't have any projects assigned."})]})]}),"quotations"===V&&(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(v.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No quotations yet"}),a.jsx("p",{className:"text-gray-600",children:"No quotations have been prepared by this vendor."})]}),"documents"===V&&(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(v.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Documents"}),a.jsx("p",{className:"text-gray-600",children:"Document management feature coming soon."})]})]})]})]}),a.jsx(d.Z,{vendor:$,isOpen:M,onClose:()=>{G(!1)},onSave:W,mode:"edit",isLoading:B})]})}},6885:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\app\vendors\[id]\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[935,910,370,884,383],()=>t(571));module.exports=a})();