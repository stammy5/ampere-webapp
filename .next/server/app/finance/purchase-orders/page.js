(()=>{var e={};e.id=539,e.ids=[539],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2969:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>c.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>d}),s(5016),s(5967),s(5866);var r=s(3191),a=s(8716),n=s(7922),c=s.n(n),l=s(5231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);s.d(t,i);let d=["",{children:["finance",{children:["purchase-orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5016)),"C:\\Users\\stamm\\AMPERE WEBAPP\\src\\app\\finance\\purchase-orders\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5967)),"C:\\Users\\stamm\\AMPERE WEBAPP\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\stamm\\AMPERE WEBAPP\\src\\app\\finance\\purchase-orders\\page.tsx"],x="/finance/purchase-orders/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/finance/purchase-orders/page",pathname:"/finance/purchase-orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4027:(e,t,s)=>{Promise.resolve().then(s.bind(s,4044))},361:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2714:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7671:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},9508:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},8091:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},4044:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var r=s(326),a=s(7577),n=s(434),c=s(4471),l=s(849),i=s(9982),d=s(1293),o=s(9682),x=s(9884),p=s(165),m=s(3855),h=s(361),u=s(8307),g=s(2714),y=s(9508),j=s(8091),f=s(7671),v=s(1223);let N={draft:"bg-gray-100 text-gray-800",pending_approval:"bg-yellow-100 text-yellow-800",approved:"bg-blue-100 text-blue-800",sent:"bg-indigo-100 text-indigo-800",partially_received:"bg-purple-100 text-purple-800",received:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",closed:"bg-gray-100 text-gray-800"},b={draft:"Draft",pending_approval:"Pending Approval",approved:"Approved",sent:"Sent",partially_received:"Partially Received",received:"Received",cancelled:"Cancelled",closed:"Closed"};function w(){let{user:e,canAccessFinance:t,canEditInvoices:s,canDeleteInvoices:w,canManagePayments:P}=(0,c.a)(),{purchaseOrders:C,getPurchaseOrdersByStatus:k,getPurchaseOrdersByVendor:A}=(0,l._)(),{getVendor:M}=(0,i.R)(),{getProject:Z}=(0,d.Z)(),{clients:E}=(0,o.a)(),[_,S]=(0,a.useState)(""),[I,D]=(0,a.useState)("all"),[V,L]=(0,a.useState)("all"),[R,q]=(0,a.useState)(""),[G,U]=(0,a.useState)(!1);if(!e)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Authentication Required"}),r.jsx("p",{className:"text-gray-600",children:"Please log in to access this page."})]})});if(!t())return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(p.Z,{className:"h-8 w-8 text-red-600"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access the Finance module. This area is restricted to Finance team members, Administrators, and Super Administrators."}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Current role: ",r.jsx("span",{className:"font-medium",children:e.role.replace("_"," ").toUpperCase()})]})]})});let O=(0,a.useMemo)(()=>Array.from(new Set(C.map(e=>e.vendorId))).map(e=>M(e)).filter(Boolean),[C,M]),B=(0,a.useMemo)(()=>C.filter(e=>{let t=M(e.vendorId),s=Z(e.projectId),r=s?E.find(e=>e.id===s.clientId):null,a=!_||e.poNumber.toLowerCase().includes(_.toLowerCase())||e.title.toLowerCase().includes(_.toLowerCase())||t?.name.toLowerCase().includes(_.toLowerCase())||r?.name.toLowerCase().includes(_.toLowerCase()),n="all"===I||e.status===I,c="all"===V||e.vendorId===V;return a&&n&&c}),[C,_,I,V,M,Z,E]),F=e=>new Intl.NumberFormat("en-SG",{style:"currency",currency:"SGD"}).format(e),z=e=>{let t=M(e);return t?.name||"Unknown Vendor"},T=e=>{let t=Z(e);return t?.name||"No Project"},W=e=>{let t=Z(e);if(!t)return"No Project";let s=E.find(e=>e.id===t.clientId);return s?.name||"Unknown Client"};return r.jsx(x.Z,{user:e||{id:"",name:"Guest",role:"finance",email:"",isActive:!0,createdAt:new Date,assignedProjects:[],permissions:{projects:{canViewAllProjects:!1,canEditAssignedProjects:!1,canCreateProjects:!1,canDeleteProjects:!1,canManageTeam:!1},finance:{canViewFinance:!0,canEditInvoices:!0,canDeleteInvoices:!1,canViewReports:!0,canManagePayments:!0},clients:{canViewClients:!0,canEditClients:!1,canCreateClients:!1,canDeleteClients:!1},system:{canManageUsers:!1,canViewAuditLogs:!1,canManageSettings:!1,canViewReports:!0}}},children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Purchase Orders"}),r.jsx("p",{className:"text-gray-600",children:"Manage purchase orders for projects and vendors"})]}),(0,r.jsxs)("button",{onClick:()=>U(!0),className:"btn-primary flex items-center space-x-2",children:[r.jsx(m.Z,{className:"h-4 w-4"}),r.jsx("span",{children:"Create Purchase Order"})]})]}),R&&(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(h.Z,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{className:"text-green-800 font-medium",children:R})]}),r.jsx("button",{onClick:()=>q(""),className:"text-green-600 hover:text-green-800 p-1 rounded-lg hover:bg-green-100",children:"\xd7"})]}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx(u.Z,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search purchase orders...",value:_,onChange:e=>S(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500 w-full"})]}),(0,r.jsxs)("select",{value:I,onChange:e=>D(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",children:[r.jsx("option",{value:"all",children:"All Status"}),Object.entries(b).map(([e,t])=>r.jsx("option",{value:e,children:t},e))]}),(0,r.jsxs)("select",{value:V,onChange:e=>L(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ampere-500 focus:border-ampere-500",children:[r.jsx("option",{value:"all",children:"All Vendors"}),O.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 flex items-center",children:["Showing ",B.length," of ",C.length," purchase orders"]})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Number"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issue Date"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.length>0?B.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.poNumber}),r.jsx("div",{className:"text-sm text-gray-500",children:e.title})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:z(e.vendorId)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:T(e.projectId)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:W(e.projectId)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:(0,v.cn)("px-2 py-1 text-xs font-medium rounded-full",N[e.status]),children:b[e.status]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:F(e.totalAmount)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.issueDate).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx(n.default,{href:`/finance/purchase-orders/${e.id}`,className:"text-ampere-600 hover:text-ampere-900 p-1 rounded hover:bg-ampere-50",title:"View",children:r.jsx(g.Z,{className:"h-4 w-4"})}),r.jsx("button",{className:"text-gray-600 hover:text-gray-900 p-1 rounded hover:bg-gray-100",title:"Edit",children:r.jsx(y.Z,{className:"h-4 w-4"})}),r.jsx("button",{className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Delete",children:r.jsx(j.Z,{className:"h-4 w-4"})})]})})]},e.id)):r.jsx("tr",{children:(0,r.jsxs)("td",{colSpan:8,className:"px-6 py-12 text-center",children:[r.jsx(f.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Purchase Orders Found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:0===C.length?"Get started by creating a purchase order.":"No purchase orders match the current filters."}),r.jsx("button",{className:"btn-primary",children:"Create Purchase Order"})]})})})]})})})]})})}},5016:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\stamm\AMPERE WEBAPP\src\app\finance\purchase-orders\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[935,910,370,884],()=>s(2969));module.exports=r})();